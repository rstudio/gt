<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="We can add new columns to a table with the cols_add() function and it works
quite a bit like the dplyr mutate() function. The idea is that you
supply name-value pairs where the name is the new column name and the value
part describes the data that will go into the column. The latter can:
(1) be a vector where the length of the number of rows in the data table,
(2) be a single value (which will be repeated all the way down), or (3)
involve other columns in the table (as they represent vectors of the correct
length). The new columns are added to the end of the column series by default
but can instead be added internally by using either the .before or .after
arguments. If entirely empty (i.e., all NA) columns need to be added, you
can use any of the NA types (e.g., NA, NA_character_, NA_real_, etc.)
for such columns."><title>Add one or more columns to a gt table — cols_add • gt</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add one or more columns to a gt table — cols_add"><meta property="og:description" content="We can add new columns to a table with the cols_add() function and it works
quite a bit like the dplyr mutate() function. The idea is that you
supply name-value pairs where the name is the new column name and the value
part describes the data that will go into the column. The latter can:
(1) be a vector where the length of the number of rows in the data table,
(2) be a single value (which will be repeated all the way down), or (3)
involve other columns in the table (as they represent vectors of the correct
length). The new columns are added to the end of the column series by default
but can instead be added internally by using either the .before or .after
arguments. If entirely empty (i.e., all NA) columns need to be added, you
can use any of the NA types (e.g., NA, NA_character_, NA_real_, etc.)
for such columns."><meta property="og:image" content="https://gt.rstudio.com/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">gt</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.10.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/gt.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/case-study-clinical-tables.html">Case Study: Clinical Tables</a>
    <a class="dropdown-item" href="../articles/case-study-gtcars.html">Case Study: gtcars</a>
    <a class="dropdown-item" href="../articles/creating-summary-lines.html">Creating Summary Lines</a>
    <a class="dropdown-item" href="../articles/gt-datasets.html">gt Datasets</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://posit.co/blog/new-features-in-gt-0-10-0/">Version 0.10.0</a>
    <a class="external-link dropdown-item" href="https://posit.co/blog/?search=gt%2520%25200.9.0">Version 0.9.0</a>
    <a class="external-link dropdown-item" href="https://posit.co/blog/new-features-upgrades-in-gt-0-8-0/">Version 0.8.0</a>
    <a class="external-link dropdown-item" href="https://posit.co/blog/all-new-things-in-gt-0-7-0/">Version 0.7.0</a>
    <a class="external-link dropdown-item" href="https://posit.co/blog/changes-for-the-better-in-gt-0-6-0/">Version 0.6.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstudio/gt/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Add one or more columns to a <strong>gt</strong> table</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstudio/gt/blob/HEAD/R/modify_columns.R" class="external-link"><code>R/modify_columns.R</code></a></small>
      <div class="d-none name"><code>cols_add.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>We can add new columns to a table with the <code>cols_add()</code> function and it works
quite a bit like the <strong>dplyr</strong> <code>mutate()</code> function. The idea is that you
supply name-value pairs where the name is the new column name and the value
part describes the data that will go into the column. The latter can:
(1) be a vector where the length of the number of rows in the data table,
(2) be a single value (which will be repeated all the way down), or (3)
involve other columns in the table (as they represent vectors of the correct
length). The new columns are added to the end of the column series by default
but can instead be added internally by using either the <code>.before</code> or <code>.after</code>
arguments. If entirely empty (i.e., all <code>NA</code>) columns need to be added, you
can use any of the <code>NA</code> types (e.g., <code>NA</code>, <code>NA_character_</code>, <code>NA_real_</code>, etc.)
for such columns.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cols_add</span><span class="op">(</span><span class="va">.data</span>, <span class="va">...</span>, .before <span class="op">=</span> <span class="cn">NULL</span>, .after <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.data</dt>
<dd><p><em>The gt table data object</em></p>
<p><code>obj:&lt;gt_tbl&gt;</code> // <strong>required</strong></p>
<p>This is the <strong>gt</strong> table object that is commonly created through use of the
<code><a href="gt.html">gt()</a></code> function.</p></dd>


<dt>...</dt>
<dd><p><em>Cell data assignments</em></p>
<p><code>&lt;multiple expressions&gt;</code> // (or, use <code>.list</code>)</p>
<p>Expressions for the assignment of cell values to the new columns.
Name-value pairs, in the form of <code>&lt;column&gt; = &lt;value vector&gt;</code> will work, so
long as any <code>&lt;column&gt;</code> value does not already exist in the table. The
<code>&lt;value vector&gt;</code> may be an expression that uses one or more column names in
the table to generate a vector of values. Single values in <code>&lt;value vector&gt;</code>
will be repeated down the new column. A vector where the length is exactly
the number of rows in the table can also be used.</p></dd>


<dt>.before, .after</dt>
<dd><p><em>Column used as anchor</em></p>
<p><code>&lt;column-targeting expression&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>A single column-resolving expression or column index can be given to either
<code>.before</code> or <code>.after</code>. The column specifies where the new columns should be
positioned among the existing columns in the input data table. While select
helper functions such as <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with()</a></code> and <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with()</a></code> can be used for
column targeting, it's recommended that a single column name or index be
used. This is to ensure that exactly one column is provided to either of
these arguments (otherwise, the function will be stopped). If nothing is
provided for either argument then any new column will be placed at the end
of the column series.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An object of class <code>gt_tbl</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="targeting-the-column-for-insertion-with-before-or-after">Targeting the column for insertion with <code>.before</code> or <code>.after</code><a class="anchor" aria-label="anchor" href="#targeting-the-column-for-insertion-with-before-or-after"></a></h2>
    


<p>The targeting of a column for insertion is done through the <code>.before</code> or
<code>.after</code> arguments (only one of these options should be be used). While
<strong>tidyselect</strong>-style expressions or indices can used to target a column, it's
advised that a single column name be used. This is to avoid the possibility
of inadvertently resolving multiple columns (since the requirement is for a
single column).</p>
    </div>
    <div class="section level2">
    <h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>
    


<p>Let's take a subset of the <code><a href="exibble.html">exibble</a></code> dataset and make a simple <strong>gt</strong> table
with it (using the <code>row</code> column for labels in the stub). We'll add a single
column to the right of all the existing columns and call it <code>country</code>. This
new column needs eight values and these will be supplied when using
<code>cols_add()</code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">exibble</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">num</span>, <span class="va">char</span>, <span class="va">datetime</span>, <span class="va">currency</span>, <span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span>rowname_col <span class="op">=</span> <span class="st">"row"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cols_add.html">cols_add</a></span><span class="op">(</span></span>
<span>    country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TL"</span>, <span class="st">"PY"</span>, <span class="st">"GL"</span>, <span class="st">"PA"</span>, <span class="st">"MO"</span>, <span class="st">"EE"</span>, <span class="st">"CO"</span>, <span class="st">"AU"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_1.png" alt="This image of a table was generated from the first code example in the `cols_add()` help file." style="width:100%;"></p>
<p>We can add multiple columns with a single use of <code>cols_add()</code>. The columns
generated can be formatted and otherwise manipulated just as any column could
be in a <strong>gt</strong> table. The following example extends the first one by adding
more columns and immediately using them in various function calls like
<code><a href="fmt_flag.html">fmt_flag()</a></code> and <code><a href="fmt_units.html">fmt_units()</a></code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">exibble</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">num</span>, <span class="va">char</span>, <span class="va">datetime</span>, <span class="va">currency</span>, <span class="va">group</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span>rowname_col <span class="op">=</span> <span class="st">"row"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cols_add.html">cols_add</a></span><span class="op">(</span></span>
<span>    country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"TL"</span>, <span class="st">"PY"</span>, <span class="st">"GL"</span>, <span class="st">"PA"</span>, <span class="st">"MO"</span>, <span class="st">"EE"</span>, <span class="st">"CO"</span>, <span class="st">"AU"</span><span class="op">)</span>,</span>
<span>    empty <span class="op">=</span> <span class="cn">NA_character_</span>,</span>
<span>    units <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"k m s^-2"</span>, <span class="st">"N m^-2"</span>, <span class="st">"degC"</span>, <span class="st">"m^2 kg s^-2"</span>,</span>
<span>      <span class="st">"m^2 kg s^-3"</span>, <span class="st">"/s"</span>, <span class="st">"A s"</span>, <span class="st">"m^2 kg s^-3 A^-1"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    big_num <span class="op">=</span> <span class="va">num</span> <span class="op">^</span> <span class="fl">3</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fmt_flag.html">fmt_flag</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">country</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/sub_missing.html">sub_missing</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">empty</span>, missing_text <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fmt_units.html">fmt_units</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">units</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fmt_scientific.html">fmt_scientific</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">big_num</span><span class="op">)</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_2.png" alt="This image of a table was generated from the second code example in the `cols_add()` help file." style="width:100%;"></p>
<p>In this table generated from a portion of the <code><a href="towny.html">towny</a></code> dataset, we add two
new columns (<code>land_area</code> and <code>density</code>) through a single use of <code>cols_add()</code>.
The new <code>land_area</code> column is a conversion of land area from square
kilometers to square miles and the <code>density</code> column is calculated by through
division of <code>population_2021</code> by that new <code>land_area</code> column. We hide the
now unneeded <code>land_area_km2</code> with <code><a href="cols_hide.html">cols_hide()</a></code> and also perform some column
labeling and adjustments to column widths with <code><a href="cols_label.html">cols_label()</a></code> and
<code><a href="cols_width.html">cols_width()</a></code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">towny</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">name</span>, <span class="va">population_2021</span>, <span class="va">land_area_km2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">population_2021</span> <span class="op">&gt;</span> <span class="fl">100000</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">population_2021</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cols_add.html">cols_add</a></span><span class="op">(</span></span>
<span>    land_area <span class="op">=</span> <span class="va">land_area_km2</span> <span class="op">/</span> <span class="fl">2.58998811</span>,</span>
<span>    density <span class="op">=</span> <span class="va">population_2021</span> <span class="op">/</span> <span class="va">land_area</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/fmt_integer.html">fmt_integer</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cols_hide.html">cols_hide</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">land_area_km2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cols_label.html">cols_label</a></span><span class="op">(</span></span>
<span>    population_2021 <span class="op">=</span> <span class="st">"Population"</span>,</span>
<span>    density <span class="op">=</span> <span class="st">"Density, {{*persons* / sq mi}}"</span>,</span>
<span>    <span class="va">land_area</span> <span class="op">~</span> <span class="st">"Area, {{mi^2}}"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cols_width.html">cols_width</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="../reference/px.html">px</a></span><span class="op">(</span><span class="fl">120</span><span class="op">)</span><span class="op">)</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_3.png" alt="This image of a table was generated from the third code example in the `cols_add()` help file." style="width:100%;"></p>
<p>It's possible to start with an empty table (i.e., no columns and no rows) and
add one or more columns to that. You can, for example, use <code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">dplyr::tibble()</a></code>
or <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code> to create a completely empty table. The first <code>cols_add()</code>
call for an empty table can have columns of arbitrary length but subsequent
uses of <code>cols_add()</code> must adhere to the rule of new columns being the same
length as existing.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cols_add.html">cols_add</a></span><span class="op">(</span></span>
<span>    num <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span>
<span>    chr <span class="op">=</span> <span class="fu"><a href="../reference/vec_fmt_spelled_num.html">vec_fmt_spelled_num</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_4.png" alt="This image of a table was generated from the fourth code example in the `cols_add()` help file." style="width:100%;"></p>
<p>Tables can contain no rows, yet have columns. In the following example, we'll
create a zero-row table with three columns (<code>num</code>, <code>chr</code>, and <code>ext</code>) and
perform the same <code>cols_add()</code>-based addition of two columns of data. This is
another case where the function allows for arbitrary-length columns (since
always adding zero-length columns is impractical). Furthermore, here we can
reference columns that already exist (<code>num</code> and <code>chr</code>) and add values to
them.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  num <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  chr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span>,</span>
<span>  ext <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">character</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/cols_add.html">cols_add</a></span><span class="op">(</span></span>
<span>    num <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span>
<span>    chr <span class="op">=</span> <span class="fu"><a href="../reference/vec_fmt_spelled_num.html">vec_fmt_spelled_num</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/gt/master/images/man_cols_add_5.png" alt="This image of a table was generated from the fifth code example in the `cols_add()` help file." style="width:100%;"></p>
<p>We should note that the <code>ext</code> column did not receive any values from
<code>cols_add()</code> but the table was expanded to having five rows nonetheless. So,
each cell of <code>ext</code> was by necessity filled with an <code>NA</code> value.</p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>
    

<p>5-7</p>
    </div>
    <div class="section level2">
    <h2 id="function-introduced">Function Introduced<a class="anchor" aria-label="anchor" href="#function-introduced"></a></h2>
    

<p><code>v0.10.0</code> (October 7, 2023)</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other column modification functions: 
<code><a href="cols_align_decimal.html">cols_align_decimal</a>()</code>,
<code><a href="cols_align.html">cols_align</a>()</code>,
<code><a href="cols_hide.html">cols_hide</a>()</code>,
<code><a href="cols_label_with.html">cols_label_with</a>()</code>,
<code><a href="cols_label.html">cols_label</a>()</code>,
<code><a href="cols_merge_n_pct.html">cols_merge_n_pct</a>()</code>,
<code><a href="cols_merge_range.html">cols_merge_range</a>()</code>,
<code><a href="cols_merge_uncert.html">cols_merge_uncert</a>()</code>,
<code><a href="cols_merge.html">cols_merge</a>()</code>,
<code><a href="cols_move_to_end.html">cols_move_to_end</a>()</code>,
<code><a href="cols_move_to_start.html">cols_move_to_start</a>()</code>,
<code><a href="cols_move.html">cols_move</a>()</code>,
<code><a href="cols_nanoplot.html">cols_nanoplot</a>()</code>,
<code><a href="cols_unhide.html">cols_unhide</a>()</code>,
<code><a href="cols_units.html">cols_units</a>()</code>,
<code><a href="cols_width.html">cols_width</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Richard Iannone, Joe Cheng, Barret Schloerke, Ellis Hughes, Alexandra Lauer, <a href="https://jooyoungseo.github.io/" class="external-link">JooYoung Seo</a>, Ken Brevoort, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer></div>

  

  

  </body></html>

