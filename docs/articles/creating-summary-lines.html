<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating Summary Lines • gt</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating Summary Lines">
<meta property="og:description" content="">
<meta property="og:image" content="https://gt.rstudio.com/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gt</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/intro-creating-gt-tables.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">How to Use</li>
    <li>
      <a href="../articles/gt-datasets.html">gt Datasets</a>
    </li>
    <li>
      <a href="../articles/creating-summary-lines.html">Summary Lines</a>
    </li>
    <li class="dropdown-header">Case Studies</li>
    <li>
      <a href="../articles/case-study-gtcars.html">Case Study: gtcars</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/gt">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Creating Summary Lines</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/gt/blob/master/vignettes/creating-summary-lines.Rmd"><code>vignettes/creating-summary-lines.Rmd</code></a></small>
      <div class="hidden name"><code>creating-summary-lines.Rmd</code></div>

    </div>

    
    
<p>Tables with summary data are quite common and naturally occur with alarming regularity. We can use <strong>gt</strong> to produce such summary components. These summary rows are automatically inserted within the relevant row groups, where each summary row is the result of a different aggregation function.</p>
<div id="preparing-the-input-data-table" class="section level3">
<h3 class="hasAnchor">
<a href="#preparing-the-input-data-table" class="anchor"></a>Preparing the Input Data Table</h3>
<p>To most easily insert the necessary summary rows, we need to ensure that some preparatory work is done. The key change to the input data table should be to have a <code>groupname</code> column present, with categorical group names for each grouping. The following example data table contains both <code>groupname</code> and <code>rowname</code> columns, along with two data columns (named <code>value_1</code> and <code>value_2</code>). Having the magic column names <code>groupname</code> and <code>rowname</code> will signal to <strong>gt</strong> that they should be used to form a table stub where <code>groupname</code> collects rows into a row group (furnishing a group heading row above), and <code>rowname</code> provides row labels within each row group. Here is a diagram showing the restructuring:</p>
<p>The incoming data table for the purpose of the first example will be created using <code><a href="http://dplyr.tidyverse.org/reference/reexports.html">dplyr::tribble()</a></code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co"># Create a table that creates a stub and</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co"># row groups by virtue of having `groupname`</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co"># and `rowname` columns</span></a>
<a class="sourceLine" id="cb1-4" title="4">tbl &lt;-</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="op">~</span>groupname, <span class="op">~</span>rowname, <span class="op">~</span>value_<span class="dv">1</span>, <span class="op">~</span>value_<span class="dv">2</span>,</a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="st">"A"</span>,        <span class="st">"1"</span>,      <span class="fl">235.6</span>,    <span class="fl">260.1</span>,</a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="st">"A"</span>,        <span class="st">"2"</span>,      <span class="fl">184.3</span>,    <span class="fl">84.4</span>,</a>
<a class="sourceLine" id="cb1-9" title="9">    <span class="st">"A"</span>,        <span class="st">"3"</span>,      <span class="fl">342.3</span>,    <span class="fl">126.3</span>,</a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="st">"A"</span>,        <span class="st">"4"</span>,      <span class="fl">234.9</span>,    <span class="fl">83.0</span>,</a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="st">"B"</span>,        <span class="st">"1"</span>,      <span class="fl">190.9</span>,    <span class="fl">832.5</span>,</a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="st">"B"</span>,        <span class="st">"2"</span>,      <span class="fl">743.3</span>,    <span class="fl">281.2</span>,</a>
<a class="sourceLine" id="cb1-13" title="13">    <span class="st">"B"</span>,        <span class="st">"3"</span>,      <span class="fl">252.3</span>,    <span class="fl">732.5</span>,</a>
<a class="sourceLine" id="cb1-14" title="14">    <span class="st">"B"</span>,        <span class="st">"4"</span>,      <span class="fl">344.7</span>,    <span class="fl">546.1</span>,</a>
<a class="sourceLine" id="cb1-15" title="15">    <span class="st">"C"</span>,        <span class="st">"1"</span>,      <span class="fl">197.2</span>,    <span class="fl">818.0</span>,</a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="st">"C"</span>,        <span class="st">"2"</span>,      <span class="fl">284.3</span>,    <span class="fl">394.4</span>,</a>
<a class="sourceLine" id="cb1-17" title="17">  )</a></code></pre></div>
<p>There are three groups in this data table: <code>A</code>, <code>B</code>, and <code>C</code>. The presence of the <code>groupname</code> column will tell <strong>gt</strong> to partition the stub into three row groups. This is how the <strong>gt</strong> display table appears after simply providing <code>tbl</code> to <code><a href="../reference/gt.html">gt()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># Create a display table by using `tbl` as input</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="../reference/gt.html">gt</a></span>(tbl)</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#dfgfzgoiza .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#dfgfzgoiza .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#dfgfzgoiza .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dfgfzgoiza .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dfgfzgoiza .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#dfgfzgoiza .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#dfgfzgoiza .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#dfgfzgoiza .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#dfgfzgoiza .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#dfgfzgoiza .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#dfgfzgoiza .gt_striped {
  background-color: #f2f2f2;
}

#dfgfzgoiza .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#dfgfzgoiza .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#dfgfzgoiza .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#dfgfzgoiza .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#dfgfzgoiza .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#dfgfzgoiza .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#dfgfzgoiza .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#dfgfzgoiza .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#dfgfzgoiza .gt_center {
  text-align: center;
}

#dfgfzgoiza .gt_left {
  text-align: left;
}

#dfgfzgoiza .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dfgfzgoiza .gt_font_normal {
  font-weight: normal;
}

#dfgfzgoiza .gt_font_bold {
  font-weight: bold;
}

#dfgfzgoiza .gt_font_italic {
  font-style: italic;
}

#dfgfzgoiza .gt_super {
  font-size: 65%;
}

#dfgfzgoiza .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="dfgfzgoiza" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_1</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_2</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">235.6</td>
<td class="gt_row gt_right">260.1</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">184.3</td>
<td class="gt_row gt_right gt_striped">84.4</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">342.3</td>
<td class="gt_row gt_right">126.3</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">234.9</td>
<td class="gt_row gt_right gt_striped">83.0</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">190.9</td>
<td class="gt_row gt_right">832.5</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">743.3</td>
<td class="gt_row gt_right gt_striped">281.2</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">252.3</td>
<td class="gt_row gt_right">732.5</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">344.7</td>
<td class="gt_row gt_right gt_striped">546.1</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">C</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">197.2</td>
<td class="gt_row gt_right">818.0</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">284.3</td>
<td class="gt_row gt_right gt_striped">394.4</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
</div>
<div id="generating-summary-rows" class="section level3">
<h3 class="hasAnchor">
<a href="#generating-summary-rows" class="anchor"></a>Generating Summary Rows</h3>
<p>Summaries by row group can be generated by using the <code><a href="../reference/summary_rows.html">summary_rows()</a></code> function. There’s a lot of control in how the summaries are conducted and formatted. First of all, we can choose which groups will receive summary rows (the rows appear at the bottom of each row group). This optional choice of groups can be made using the <code>groups</code> argument (providing a vector of group names). Secondly, we can choose which columns should be included in the summary with the <code>columns</code> argument (in this case, wrapping column names in <code><a href="http://dplyr.tidyverse.org/reference/vars.html">vars()</a></code>). If we provide nothing to <code>groups</code>, then all groups will receive summary data for the selected <code>columns</code>.</p>
<p>To make any sort of summary, we need to use functions that will perform the aggregation. We can provide base functions such as <code><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean()</a></code>, <code><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum()</a></code>, <code><a href="https://www.rdocumentation.org/packages/base/topics/Extremes">min()</a></code>, <code><a href="https://www.rdocumentation.org/packages/base/topics/Extremes">max()</a></code>, and more, within a <code><a href="https://www.rdocumentation.org/packages/base/topics/list">list()</a></code> or <code><a href="https://www.rdocumentation.org/packages/base/topics/c">c()</a></code>. Each function provided will result in a summary row for each group.</p>
<p>Because each function will yield a row, we need to be able to identify that row. So, each summary row will receive a summary row label. We can provide our preferred names by naming the functions within the list or <code><a href="https://www.rdocumentation.org/packages/base/topics/c">c()</a></code> (e.g, <code><a href="https://www.rdocumentation.org/packages/base/topics/list">list(average = "mean", total = "sum", SD = "sd")</a></code> or <code><a href="https://www.rdocumentation.org/packages/base/topics/c">c("mean", total = "sum", stdev = "sd")</a></code>). If names aren’t supplied, then <strong>gt</strong> will derive names from the functions supplied and make the names unique.</p>
<p>Now that the <code><a href="../reference/summary_rows.html">summary_rows()</a></code> function has been somewhat explained, let’s look at how we can get summary rows for the <code>tbl</code> table:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="co"># Create a gt table with summary rows for</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co"># `value_1` in the `A` and `B` row groups;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co"># three summary rows are made per group</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co"># (one for each function in `fns`)</span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="kw"><a href="../reference/gt.html">gt</a></span>(tbl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb3-7" title="7">    <span class="dt">groups =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"A"</span>, <span class="st">"B"</span>),</a>
<a class="sourceLine" id="cb3-8" title="8">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>),</a>
<a class="sourceLine" id="cb3-9" title="9">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"mean"</span>, <span class="st">"sum"</span>, <span class="st">"sd"</span>)</a>
<a class="sourceLine" id="cb3-10" title="10">  )</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ymrqdtpzbo .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#ymrqdtpzbo .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#ymrqdtpzbo .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ymrqdtpzbo .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ymrqdtpzbo .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#ymrqdtpzbo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#ymrqdtpzbo .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#ymrqdtpzbo .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#ymrqdtpzbo .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#ymrqdtpzbo .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#ymrqdtpzbo .gt_striped {
  background-color: #f2f2f2;
}

#ymrqdtpzbo .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#ymrqdtpzbo .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#ymrqdtpzbo .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#ymrqdtpzbo .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#ymrqdtpzbo .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#ymrqdtpzbo .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#ymrqdtpzbo .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#ymrqdtpzbo .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#ymrqdtpzbo .gt_center {
  text-align: center;
}

#ymrqdtpzbo .gt_left {
  text-align: left;
}

#ymrqdtpzbo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ymrqdtpzbo .gt_font_normal {
  font-weight: normal;
}

#ymrqdtpzbo .gt_font_bold {
  font-weight: bold;
}

#ymrqdtpzbo .gt_font_italic {
  font-style: italic;
}

#ymrqdtpzbo .gt_super {
  font-size: 65%;
}

#ymrqdtpzbo .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ymrqdtpzbo" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_1</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_2</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">235.6</td>
<td class="gt_row gt_right">260.1</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">184.3</td>
<td class="gt_row gt_right gt_striped">84.4</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">342.3</td>
<td class="gt_row gt_right">126.3</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">234.9</td>
<td class="gt_row gt_right gt_striped">83.0</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">mean</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">249.28</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sum</td>
<td class="gt_row gt_summary_row gt_right">997.10</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sd</td>
<td class="gt_row gt_summary_row gt_right">66.51</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">190.9</td>
<td class="gt_row gt_right">832.5</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">743.3</td>
<td class="gt_row gt_right gt_striped">281.2</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">252.3</td>
<td class="gt_row gt_right">732.5</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">344.7</td>
<td class="gt_row gt_right gt_striped">546.1</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">mean</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">382.80</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sum</td>
<td class="gt_row gt_summary_row gt_right">1,531.20</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sd</td>
<td class="gt_row gt_summary_row gt_right">248.51</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">C</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">197.2</td>
<td class="gt_row gt_right">818.0</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">284.3</td>
<td class="gt_row gt_right gt_striped">394.4</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
<p>Here we see that summary rows were created for the <code>A</code> and <code>B</code> groups (group <code>C</code> has no summary lines in its row group). It was specified in <code>columns</code> that only the <code>value_1</code> column should be evaluated and, indeed, the <code>value_2</code> column shows no values whatsoever within the summary rows.</p>
<p>There is some flexibility in how we supply aggregation functions to <code><a href="../reference/summary_rows.html">summary_rows()</a></code>. It’s sometimes sufficient to supply function names enclosed in quotes (e.g., <code><a href="https://www.rdocumentation.org/packages/base/topics/list">list("mean", "sum", "sd")</a></code>) but the next section will demonstrate a more advanced method for supplying these functions (where we don’t have to rely on function defaults). If we already have a vector of function names that use all of the default arguments within those functions, we can pass this directly to <code>fns</code>. This is nice if we want to build a common named vector of function names and summary labels. Here’s an example that does just that:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="co"># Define a named vector of function names</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="co"># and summary row labels</span></a>
<a class="sourceLine" id="cb4-3" title="3">fns_labels &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dt">average =</span> <span class="st">"mean"</span>, <span class="dt">total =</span> <span class="st">"sum"</span>, <span class="st">`</span><span class="dt">std dev</span><span class="st">`</span> =<span class="st"> "sd"</span>)</a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co"># Use `fns_labels` in `fns`</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="kw"><a href="../reference/gt.html">gt</a></span>(tbl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb4-8" title="8">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>),</a>
<a class="sourceLine" id="cb4-9" title="9">    <span class="dt">fns =</span> fns_labels</a>
<a class="sourceLine" id="cb4-10" title="10">  )</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#lclwnpzjlu .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#lclwnpzjlu .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#lclwnpzjlu .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#lclwnpzjlu .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#lclwnpzjlu .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#lclwnpzjlu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#lclwnpzjlu .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#lclwnpzjlu .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#lclwnpzjlu .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#lclwnpzjlu .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#lclwnpzjlu .gt_striped {
  background-color: #f2f2f2;
}

#lclwnpzjlu .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#lclwnpzjlu .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#lclwnpzjlu .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#lclwnpzjlu .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#lclwnpzjlu .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#lclwnpzjlu .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#lclwnpzjlu .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#lclwnpzjlu .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#lclwnpzjlu .gt_center {
  text-align: center;
}

#lclwnpzjlu .gt_left {
  text-align: left;
}

#lclwnpzjlu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#lclwnpzjlu .gt_font_normal {
  font-weight: normal;
}

#lclwnpzjlu .gt_font_bold {
  font-weight: bold;
}

#lclwnpzjlu .gt_font_italic {
  font-style: italic;
}

#lclwnpzjlu .gt_super {
  font-size: 65%;
}

#lclwnpzjlu .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="lclwnpzjlu" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_1</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_2</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">235.6</td>
<td class="gt_row gt_right">260.1</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">184.3</td>
<td class="gt_row gt_right gt_striped">84.4</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">342.3</td>
<td class="gt_row gt_right">126.3</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">234.9</td>
<td class="gt_row gt_right gt_striped">83.0</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">average</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">249.28</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">total</td>
<td class="gt_row gt_summary_row gt_right">997.10</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">std dev</td>
<td class="gt_row gt_summary_row gt_right">66.51</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">190.9</td>
<td class="gt_row gt_right">832.5</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">743.3</td>
<td class="gt_row gt_right gt_striped">281.2</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">252.3</td>
<td class="gt_row gt_right">732.5</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">344.7</td>
<td class="gt_row gt_right gt_striped">546.1</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">average</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">382.80</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">total</td>
<td class="gt_row gt_summary_row gt_right">1,531.20</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">std dev</td>
<td class="gt_row gt_summary_row gt_right">248.51</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">C</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">197.2</td>
<td class="gt_row gt_right">818.0</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">284.3</td>
<td class="gt_row gt_right gt_striped">394.4</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">average</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">240.75</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">total</td>
<td class="gt_row gt_summary_row gt_right">481.50</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">std dev</td>
<td class="gt_row gt_summary_row gt_right">61.59</td>
<td class="gt_row gt_summary_row gt_right">—</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
</div>
<div id="providing-calls-to-functions-with-a-formula-interface" class="section level3">
<h3 class="hasAnchor">
<a href="#providing-calls-to-functions-with-a-formula-interface" class="anchor"></a>Providing Calls to Functions with a Formula Interface</h3>
<p>Sometimes we want to use functions with some parameters set. The earlier example using <code><a href="https://www.rdocumentation.org/packages/base/topics/list">list("mean", "sum", "sd")</a></code> will break down if we have <code>NA</code> values in our data and we want to exclude those by using <code>na.rm = TRUE</code>. In this case we can provide a call to a function with a right-hand side (<em>RHS</em>) formula shortcut, having <code>.</code> serve as the data values. Here is an example where we modify our <code>tbl</code> to include some <code>NA</code> values (calling it <code>tbl_na</code>) and then changing the contents of the <code><a href="https://www.rdocumentation.org/packages/base/topics/list">list()</a></code>—using <code><a href="https://www.rdocumentation.org/packages/base/topics/c">c()</a></code> will work just as well—as calls to functions:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="co"># Create an alternate version of the</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="co"># `tbl` data frame that contains NAs</span></a>
<a class="sourceLine" id="cb5-3" title="3">tbl_na &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="st">  </span>tbl <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">value_1 =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb5-6" title="6">    value_<span class="dv">1</span> <span class="op">&gt;=</span><span class="st"> </span><span class="dv">300</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_real_</span>,</a>
<a class="sourceLine" id="cb5-7" title="7">    value_<span class="dv">1</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">300</span> <span class="op">~</span><span class="st"> </span>value_<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-8" title="8">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">value_2 =</span> <span class="kw">case_when</span>(</a>
<a class="sourceLine" id="cb5-10" title="10">    value_<span class="dv">2</span> <span class="op">&gt;=</span><span class="st"> </span><span class="dv">600</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_real_</span>,</a>
<a class="sourceLine" id="cb5-11" title="11">    value_<span class="dv">2</span> <span class="op">&lt;</span><span class="st"> </span><span class="dv">600</span> <span class="op">~</span><span class="st"> </span>value_<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb5-12" title="12">  )</a>
<a class="sourceLine" id="cb5-13" title="13"></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co"># Create summary rows from `tbl_na` within</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="co"># groups `A` and `B` but provide the</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="co"># aggregation functions as formulas so that</span></a>
<a class="sourceLine" id="cb5-17" title="17"><span class="co"># we can modify the default options</span></a>
<a class="sourceLine" id="cb5-18" title="18"><span class="kw"><a href="../reference/gt.html">gt</a></span>(tbl_na) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-19" title="19"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb5-20" title="20">    <span class="dt">groups =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"A"</span>, <span class="st">"B"</span>),</a>
<a class="sourceLine" id="cb5-21" title="21">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>, value_<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb5-22" title="22">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(</a>
<a class="sourceLine" id="cb5-23" title="23">      <span class="dt">average =</span> <span class="op">~</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/mean">mean</a></span>(., <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb5-24" title="24">      <span class="dt">sum =</span> <span class="op">~</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sum">sum</a></span>(., <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb5-25" title="25">      <span class="st">`</span><span class="dt">std dev</span><span class="st">`</span> =<span class="st"> </span><span class="er">~</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/sd">sd</a></span>(., <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb5-26" title="26">  )</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#holiaggmis .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#holiaggmis .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#holiaggmis .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#holiaggmis .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#holiaggmis .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#holiaggmis .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#holiaggmis .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#holiaggmis .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#holiaggmis .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#holiaggmis .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#holiaggmis .gt_striped {
  background-color: #f2f2f2;
}

#holiaggmis .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#holiaggmis .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#holiaggmis .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#holiaggmis .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#holiaggmis .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#holiaggmis .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#holiaggmis .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#holiaggmis .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#holiaggmis .gt_center {
  text-align: center;
}

#holiaggmis .gt_left {
  text-align: left;
}

#holiaggmis .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#holiaggmis .gt_font_normal {
  font-weight: normal;
}

#holiaggmis .gt_font_bold {
  font-weight: bold;
}

#holiaggmis .gt_font_italic {
  font-style: italic;
}

#holiaggmis .gt_super {
  font-size: 65%;
}

#holiaggmis .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="holiaggmis" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_1</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_2</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">235.6</td>
<td class="gt_row gt_right">260.1</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">184.3</td>
<td class="gt_row gt_right gt_striped">84.4</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_right">126.3</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">234.9</td>
<td class="gt_row gt_right gt_striped">83.0</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">average</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">218.27</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">138.45</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sum</td>
<td class="gt_row gt_summary_row gt_right">654.80</td>
<td class="gt_row gt_summary_row gt_right">553.80</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">std dev</td>
<td class="gt_row gt_summary_row gt_right">29.42</td>
<td class="gt_row gt_summary_row gt_right">83.55</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">190.9</td>
<td class="gt_row gt_right">NA</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">NA</td>
<td class="gt_row gt_right gt_striped">281.2</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">252.3</td>
<td class="gt_row gt_right">NA</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">NA</td>
<td class="gt_row gt_right gt_striped">546.1</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">average</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">221.60</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">413.65</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sum</td>
<td class="gt_row gt_summary_row gt_right">443.20</td>
<td class="gt_row gt_summary_row gt_right">827.30</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">std dev</td>
<td class="gt_row gt_summary_row gt_right">43.42</td>
<td class="gt_row gt_summary_row gt_right">187.31</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">C</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">197.2</td>
<td class="gt_row gt_right">NA</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">284.3</td>
<td class="gt_row gt_right gt_striped">394.4</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
<p>The input to <code>fns</code> is very permissive in regard to how the functions are defined. It is entirely valid to provide functions in the various forms shown earlier such that <code><a href="https://www.rdocumentation.org/packages/base/topics/list">list("sum", ~mean(., na.rm = TRUE), SD = "sd")</a></code> will be correctly interpreted.</p>
</div>
<div id="formatting-the-summary-output-values" class="section level3">
<h3 class="hasAnchor">
<a href="#formatting-the-summary-output-values" class="anchor"></a>Formatting the Summary Output Values</h3>
<p>Using <code><a href="../reference/summary_rows.html">summary_rows()</a></code> to generate a summary is, in effect, creating new data and thus we need some means to format the new summary row data. We can use the <code>formatter</code> option to supply a formatting function to handle the formatting of the summary row data. Thankfully, we have a collection of formatting functions available in the package (i.e., all of the <code>fmt_*()</code> functions). The default for <code>formatter</code> is set to <code>fmt_number</code> which is a sensible default for many scenarios. The setting of argument values for a particular formatter can be done in the <code>...</code> area of the function call.</p>
<p>Let’s start with an example where we format the summary row data using <code>fmt_number</code> as the formatter. The <code><a href="../reference/fmt_number.html">fmt_number()</a></code> function several arguments to which we can pass values (<code>decimals</code>, <code>drop_trailing_zeros</code>, <code>negative_val</code>, <code>locale</code>, etc.). Here, we will provide <code>decimals = 3</code> to augment <code><a href="../reference/fmt_number.html">fmt_number()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># Use the formatter options in `...` to</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="co"># provide values to `fmt_number`</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="kw"><a href="../reference/gt.html">gt</a></span>(tbl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-4" title="4"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="dt">groups =</span> <span class="st">"A"</span>,</a>
<a class="sourceLine" id="cb6-6" title="6">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>, value_<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb6-7" title="7">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"mean"</span>, <span class="st">"sum"</span>, <span class="st">"min"</span>, <span class="st">"max"</span>),</a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="dt">formatter =</span> fmt_number,</a>
<a class="sourceLine" id="cb6-9" title="9">    <span class="dt">decimals =</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb6-10" title="10">  )</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hfqcmfijgh .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#hfqcmfijgh .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#hfqcmfijgh .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hfqcmfijgh .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hfqcmfijgh .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#hfqcmfijgh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#hfqcmfijgh .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#hfqcmfijgh .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#hfqcmfijgh .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#hfqcmfijgh .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#hfqcmfijgh .gt_striped {
  background-color: #f2f2f2;
}

#hfqcmfijgh .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#hfqcmfijgh .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#hfqcmfijgh .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#hfqcmfijgh .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#hfqcmfijgh .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#hfqcmfijgh .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#hfqcmfijgh .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#hfqcmfijgh .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#hfqcmfijgh .gt_center {
  text-align: center;
}

#hfqcmfijgh .gt_left {
  text-align: left;
}

#hfqcmfijgh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hfqcmfijgh .gt_font_normal {
  font-weight: normal;
}

#hfqcmfijgh .gt_font_bold {
  font-weight: bold;
}

#hfqcmfijgh .gt_font_italic {
  font-style: italic;
}

#hfqcmfijgh .gt_super {
  font-size: 65%;
}

#hfqcmfijgh .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="hfqcmfijgh" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_1</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_2</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">235.6</td>
<td class="gt_row gt_right">260.1</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">184.3</td>
<td class="gt_row gt_right gt_striped">84.4</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">342.3</td>
<td class="gt_row gt_right">126.3</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">234.9</td>
<td class="gt_row gt_right gt_striped">83.0</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">mean</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">249.275</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">138.450</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sum</td>
<td class="gt_row gt_summary_row gt_right">997.100</td>
<td class="gt_row gt_summary_row gt_right">553.800</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">min</td>
<td class="gt_row gt_summary_row gt_right">184.300</td>
<td class="gt_row gt_summary_row gt_right">83.000</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">max</td>
<td class="gt_row gt_summary_row gt_right">342.300</td>
<td class="gt_row gt_summary_row gt_right">260.100</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">190.9</td>
<td class="gt_row gt_right">832.5</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">743.3</td>
<td class="gt_row gt_right gt_striped">281.2</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">252.3</td>
<td class="gt_row gt_right">732.5</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">344.7</td>
<td class="gt_row gt_right gt_striped">546.1</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">C</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">197.2</td>
<td class="gt_row gt_right">818.0</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">284.3</td>
<td class="gt_row gt_right gt_striped">394.4</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
<p>We can also store these argument values as local variables and pass them in both separate <code><a href="../reference/fmt_number.html">fmt_number()</a></code> calls and then to a <code><a href="../reference/summary_rows.html">summary_rows()</a></code> calls with <code><a href="../reference/fmt_number.html">fmt_number()</a></code> used as the formatter. This is useful for standardizing formatting parameters across different table cell types.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="co"># Provide common formatting parameters to a list</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co"># object named `formats`; the number of decimal</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co"># places will be `2` and the locale is "fr_BE"</span></a>
<a class="sourceLine" id="cb7-4" title="4">formats &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">decimals =</span> <span class="dv">2</span>, <span class="dt">locale =</span> <span class="st">"fr_BE"</span>)</a>
<a class="sourceLine" id="cb7-5" title="5"></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co"># Provide the formatting options from `formats` to</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co"># all row data in all columns, and, to the summary</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co"># row data</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="kw"><a href="../reference/gt.html">gt</a></span>(tbl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="st">  </span><span class="kw"><a href="../reference/fmt_number.html">fmt_number</a></span>(</a>
<a class="sourceLine" id="cb7-11" title="11">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>, value_<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb7-12" title="12">    <span class="dt">decimals =</span> formats<span class="op">$</span>decimals,</a>
<a class="sourceLine" id="cb7-13" title="13">    <span class="dt">locale =</span> formats<span class="op">$</span>locale</a>
<a class="sourceLine" id="cb7-14" title="14">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb7-16" title="16">    <span class="dt">groups =</span> <span class="st">"A"</span>,</a>
<a class="sourceLine" id="cb7-17" title="17">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>, value_<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb7-18" title="18">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"mean"</span>, <span class="st">"sum"</span>, <span class="st">"min"</span>, <span class="st">"max"</span>),</a>
<a class="sourceLine" id="cb7-19" title="19">    <span class="dt">formatter =</span> fmt_number,</a>
<a class="sourceLine" id="cb7-20" title="20">    <span class="dt">decimals =</span> formats<span class="op">$</span>decimals,</a>
<a class="sourceLine" id="cb7-21" title="21">    <span class="dt">locale =</span> formats<span class="op">$</span>locale</a>
<a class="sourceLine" id="cb7-22" title="22">  )</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#esaulearfh .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#esaulearfh .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#esaulearfh .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#esaulearfh .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#esaulearfh .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#esaulearfh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#esaulearfh .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#esaulearfh .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#esaulearfh .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#esaulearfh .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#esaulearfh .gt_striped {
  background-color: #f2f2f2;
}

#esaulearfh .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#esaulearfh .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#esaulearfh .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#esaulearfh .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#esaulearfh .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#esaulearfh .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#esaulearfh .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#esaulearfh .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#esaulearfh .gt_center {
  text-align: center;
}

#esaulearfh .gt_left {
  text-align: left;
}

#esaulearfh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#esaulearfh .gt_font_normal {
  font-weight: normal;
}

#esaulearfh .gt_font_bold {
  font-weight: bold;
}

#esaulearfh .gt_font_italic {
  font-style: italic;
}

#esaulearfh .gt_super {
  font-size: 65%;
}

#esaulearfh .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="esaulearfh" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_1</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_2</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">235,60</td>
<td class="gt_row gt_right">260,10</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">184,30</td>
<td class="gt_row gt_right gt_striped">84,40</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">342,30</td>
<td class="gt_row gt_right">126,30</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">234,90</td>
<td class="gt_row gt_right gt_striped">83,00</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">mean</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">249,28</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">138,45</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sum</td>
<td class="gt_row gt_summary_row gt_right">997,10</td>
<td class="gt_row gt_summary_row gt_right">553,80</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">min</td>
<td class="gt_row gt_summary_row gt_right">184,30</td>
<td class="gt_row gt_summary_row gt_right">83,00</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">max</td>
<td class="gt_row gt_summary_row gt_right">342,30</td>
<td class="gt_row gt_summary_row gt_right">260,10</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">190,90</td>
<td class="gt_row gt_right">832,50</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">743,30</td>
<td class="gt_row gt_right gt_striped">281,20</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">252,30</td>
<td class="gt_row gt_right">732,50</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">344,70</td>
<td class="gt_row gt_right gt_striped">546,10</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">C</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">197,20</td>
<td class="gt_row gt_right">818,00</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">284,30</td>
<td class="gt_row gt_right gt_striped">394,40</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
</div>
<div id="extracting-the-summary-data-from-the-gt-table-object" class="section level3">
<h3 class="hasAnchor">
<a href="#extracting-the-summary-data-from-the-gt-table-object" class="anchor"></a>Extracting the Summary Data from the gt Table Object</h3>
<p>For a reproducible workflow, we do not want to have situations where any data created or modified cannot be accessed. While having summarized values be created in a <strong>gt</strong> pipeline presents advantages to readability and intent of analysis, it is recognized that the output table itself is essentially ‘read only’, as the input data undergoes processing and movement to an entirely different format.</p>
<p>However, the object created still contains data and we can obtain the summary data from a gt table object using the <code><a href="../reference/extract_summary.html">extract_summary()</a></code> function. Taking the <code>gt_summary</code> object, we get a data frame containing the summary data while preserving the correct data types:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co"># Create a gt table with summary rows and</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co"># assign it to `gt_object`</span></a>
<a class="sourceLine" id="cb8-3" title="3">gt_object &lt;-</a>
<a class="sourceLine" id="cb8-4" title="4"><span class="st">  </span><span class="kw"><a href="../reference/gt.html">gt</a></span>(tbl) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb8-6" title="6">    <span class="dt">groups =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"A"</span>, <span class="st">"B"</span>),</a>
<a class="sourceLine" id="cb8-7" title="7">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>, value_<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"mean"</span>, <span class="st">"sum"</span>, <span class="st">"sd"</span>)</a>
<a class="sourceLine" id="cb8-9" title="9">  )</a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="co"># Extract the summary data from `gt_object`</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="co"># to a data frame object</span></a>
<a class="sourceLine" id="cb9-3" title="3">summary_list &lt;-<span class="st"> </span>gt_object <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/extract_summary.html">extract_summary</a></span>()</a>
<a class="sourceLine" id="cb9-4" title="4"></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="co"># This is a list with two elements named</span></a>
<a class="sourceLine" id="cb9-6" title="6"><span class="co"># `A` and `B` (matches the summary groups)</span></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/names">names</a></span>(summary_list)</a>
<a class="sourceLine" id="cb9-8" title="8"><span class="co">#&gt; [1] "A" "B"</span></a></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="co"># Print out the summary for the `A` group</span></a>
<a class="sourceLine" id="cb10-2" title="2">summary_list[[<span class="st">"A"</span>]]</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="co">#&gt; # A tibble: 3 x 4</span></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="co">#&gt;   groupname rowname value_1 value_2</span></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb10-6" title="6"><span class="co">#&gt; 1 A         mean      249.    138. </span></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="co">#&gt; 2 A         sum       997.    554. </span></a>
<a class="sourceLine" id="cb10-8" title="8"><span class="co">#&gt; 3 A         sd         66.5    83.6</span></a></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="co"># Print out the summary for the `B` group</span></a>
<a class="sourceLine" id="cb11-2" title="2">summary_list[[<span class="st">"B"</span>]]</a>
<a class="sourceLine" id="cb11-3" title="3"><span class="co">#&gt; # A tibble: 3 x 4</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">#&gt;   groupname rowname value_1 value_2</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="co">#&gt; 1 B         mean       383.    598.</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="co">#&gt; 2 B         sum       1531.   2392.</span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="co">#&gt; 3 B         sd         249.    242.</span></a></code></pre></div>
<p>The output data frames within the list always contain the <code>groupname</code> and <code>rowname</code> columns. The <code>groupname</code> column is filled with the name of the stub group given in <code><a href="../reference/summary_rows.html">summary_rows()</a></code>. The <code>rowname</code> column contains the descriptive stub labels for the summary rows (recall that values are either supplied explicitly in <code><a href="../reference/summary_rows.html">summary_rows()</a></code>, or, are generated from the function names). The remaining columns are from the original dataset.</p>
<p>The output data frame from <code><a href="../reference/extract_summary.html">extract_summary()</a></code> can be reintroduced to a reproducible workflow and serve as downstream inputs or undergo validation. Perhaps interestingly, the output data frame is structured in a way that facilitates direct input to <code><a href="../reference/gt.html">gt()</a></code> (i.e., has the magic <code>groupname</code> and <code>rowname</code> columns). This can produce a new, standalone summary table where the summary rows are now data rows:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co"># Take the `gt_object`, which has a list of</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="co"># summary data frames, combine them with</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co"># `do.call(bind_rows, ...)`, input that into</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="co"># `gt()`, and format all of the numeric values</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/do.call">do.call</a></span>(</a>
<a class="sourceLine" id="cb12-6" title="6">  dplyr<span class="op">::</span>bind_rows,</a>
<a class="sourceLine" id="cb12-7" title="7">  gt_object <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/extract_summary.html">extract_summary</a></span>()</a>
<a class="sourceLine" id="cb12-8" title="8">) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="st">  </span><span class="kw"><a href="../reference/gt.html">gt</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="st">  </span><span class="kw"><a href="../reference/fmt_number.html">fmt_number</a></span>(</a>
<a class="sourceLine" id="cb12-11" title="11">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>, value_<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb12-12" title="12">    <span class="dt">decimals =</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb12-13" title="13">  )</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#mcpkrpoivo .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#mcpkrpoivo .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#mcpkrpoivo .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mcpkrpoivo .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mcpkrpoivo .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#mcpkrpoivo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#mcpkrpoivo .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#mcpkrpoivo .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#mcpkrpoivo .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#mcpkrpoivo .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#mcpkrpoivo .gt_striped {
  background-color: #f2f2f2;
}

#mcpkrpoivo .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#mcpkrpoivo .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#mcpkrpoivo .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#mcpkrpoivo .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#mcpkrpoivo .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#mcpkrpoivo .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#mcpkrpoivo .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#mcpkrpoivo .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#mcpkrpoivo .gt_center {
  text-align: center;
}

#mcpkrpoivo .gt_left {
  text-align: left;
}

#mcpkrpoivo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mcpkrpoivo .gt_font_normal {
  font-weight: normal;
}

#mcpkrpoivo .gt_font_bold {
  font-weight: bold;
}

#mcpkrpoivo .gt_font_italic {
  font-style: italic;
}

#mcpkrpoivo .gt_super {
  font-size: 65%;
}

#mcpkrpoivo .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="mcpkrpoivo" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_1</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_2</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">mean</td>
<td class="gt_row gt_right">249.275</td>
<td class="gt_row gt_right">138.450</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">sum</td>
<td class="gt_row gt_right gt_striped">997.100</td>
<td class="gt_row gt_right gt_striped">553.800</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">sd</td>
<td class="gt_row gt_right">66.506</td>
<td class="gt_row gt_right">83.551</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">mean</td>
<td class="gt_row gt_right gt_striped">382.800</td>
<td class="gt_row gt_right gt_striped">598.075</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">sum</td>
<td class="gt_row gt_right">1,531.200</td>
<td class="gt_row gt_right">2,392.300</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">sd</td>
<td class="gt_row gt_right gt_striped">248.507</td>
<td class="gt_row gt_right gt_striped">242.306</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
</div>
<div id="providing-our-own-aggregation-functions-to-generate-summary-rows" class="section level3">
<h3 class="hasAnchor">
<a href="#providing-our-own-aggregation-functions-to-generate-summary-rows" class="anchor"></a>Providing Our Own Aggregation Functions to Generate Summary Rows</h3>
<p>While many of the functions available in base R and within packages are useful as aggregate functions, we may occasionally have need to create our own custom functions. The only things to keep in mind are to ensure that a vector of values is the main input, and, a single value is returned. The return value can be most any class (e.g., <code>numeric</code>, <code>character</code>, <code>logical</code>) and it’s the <code>formatter</code> function that will handle any custom formatting while also converting to <code>character</code>.</p>
<p>Here, we’ll define a function that takes a vector of numeric values and outputs the two highest values (sorted low to high) above a <code>threshold</code> value. The output from this function is always a formatted <code>character</code> string.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="co"># Define a function that gives the</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co"># highest two values above a threshold</span></a>
<a class="sourceLine" id="cb13-3" title="3">agg_highest_two_above_value &lt;-<span class="st"> </span><span class="cf">function</span>(x, threshold) {</a>
<a class="sourceLine" id="cb13-4" title="4">  </a>
<a class="sourceLine" id="cb13-5" title="5">  <span class="co"># Get sorted values above threshold value</span></a>
<a class="sourceLine" id="cb13-6" title="6">  values &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sort">sort</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Round">round</a></span>(x[x <span class="op">&gt;=</span><span class="st"> </span>threshold], <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb13-7" title="7">  </a>
<a class="sourceLine" id="cb13-8" title="8">  <span class="co"># Return character string with 2 highest values above threshold</span></a>
<a class="sourceLine" id="cb13-9" title="9">  <span class="cf">if</span> (<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/length">length</a></span>(values) <span class="op">==</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb13-10" title="10">    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/function">return</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste0</a></span>(<span class="st">"No values above "</span>, threshold))</a>
<a class="sourceLine" id="cb13-11" title="11">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb13-12" title="12">    <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/function">return</a></span>(</a>
<a class="sourceLine" id="cb13-13" title="13">      <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(</a>
<a class="sourceLine" id="cb13-14" title="14">        <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/formatc">formatC</a></span>(</a>
<a class="sourceLine" id="cb13-15" title="15">          <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">tail</a></span>(</a>
<a class="sourceLine" id="cb13-16" title="16">            <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sort">sort</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/Round">round</a></span>(x[x <span class="op">&gt;</span><span class="st"> </span>threshold], <span class="dv">2</span>)), <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb13-17" title="17">          <span class="dt">format =</span> <span class="st">"f"</span>, <span class="dt">digits =</span> <span class="dv">2</span>), <span class="dt">collapse =</span> <span class="st">", "</span>))</a>
<a class="sourceLine" id="cb13-18" title="18">  }</a>
<a class="sourceLine" id="cb13-19" title="19">}</a>
<a class="sourceLine" id="cb13-20" title="20"></a>
<a class="sourceLine" id="cb13-21" title="21"><span class="co"># Let's test this function with some values</span></a>
<a class="sourceLine" id="cb13-22" title="22"><span class="kw">agg_highest_two_above_value</span>(</a>
<a class="sourceLine" id="cb13-23" title="23">  <span class="dt">x =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.73</span>, <span class="fl">0.93</span>, <span class="fl">0.75</span>, <span class="fl">0.86</span>, <span class="fl">0.23</span>, <span class="fl">0.81</span>),</a>
<a class="sourceLine" id="cb13-24" title="24">  <span class="dt">threshold =</span> <span class="fl">0.8</span></a>
<a class="sourceLine" id="cb13-25" title="25">)</a>
<a class="sourceLine" id="cb13-26" title="26"><span class="co">#&gt; [1] "0.86, 0.93"</span></a></code></pre></div>
<p>Because this is character value that’s returned, we don’t need formatting functions like <code><a href="../reference/fmt_number.html">fmt_number()</a></code>, <code><a href="../reference/fmt_percent.html">fmt_percent()</a></code>, etc. However, a useful formatter (and we do need <em>some</em> formatter) is the <code><a href="../reference/fmt_passthrough.html">fmt_passthrough()</a></code> function. Like the name suggests, it to great extent passes values through but formats as <code>character</code> (like all the <code>fmt_*()</code> function do) and it provides the option to decorate the output with a <code>pattern</code>. Let’s have a look at how the <code>agg_highest_two_above_value()</code> function can be used with the <code><a href="../reference/fmt_passthrough.html">fmt_passthrough()</a></code> formatter function.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1"><span class="co"># Create a gt table with summary rows for</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co"># `value_1` &amp; `value_2`; the custom function</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="co"># is being used with a threshold of `150`; the</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co"># `fmt_passthrough` allows for minimal</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co"># formatting of the aggregate values</span></a>
<a class="sourceLine" id="cb14-6" title="6">summary_tbl &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb14-7" title="7"><span class="st">  </span><span class="kw"><a href="../reference/gt.html">gt</a></span>(tbl_na) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb14-9" title="9">    <span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>, value_<span class="dv">2</span>),</a>
<a class="sourceLine" id="cb14-10" title="10">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(</a>
<a class="sourceLine" id="cb14-11" title="11">      <span class="dt">high =</span> <span class="op">~</span><span class="kw">agg_highest_two_above_value</span>(., <span class="dv">150</span>)),</a>
<a class="sourceLine" id="cb14-12" title="12">    <span class="dt">formatter =</span> fmt_passthrough,</a>
<a class="sourceLine" id="cb14-13" title="13">    <span class="dt">pattern =</span> <span class="st">"({x})"</span></a>
<a class="sourceLine" id="cb14-14" title="14">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-15" title="15"><span class="st">  </span><span class="kw"><a href="../reference/fmt_missing.html">fmt_missing</a></span>(<span class="dt">columns =</span> <span class="kw"><a href="http://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(value_<span class="dv">1</span>, value_<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb14-16" title="16"></a>
<a class="sourceLine" id="cb14-17" title="17">summary_tbl</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ghuvliycyn .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#ghuvliycyn .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#ghuvliycyn .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ghuvliycyn .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ghuvliycyn .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#ghuvliycyn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#ghuvliycyn .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#ghuvliycyn .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#ghuvliycyn .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#ghuvliycyn .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#ghuvliycyn .gt_striped {
  background-color: #f2f2f2;
}

#ghuvliycyn .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#ghuvliycyn .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#ghuvliycyn .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#ghuvliycyn .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#ghuvliycyn .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#ghuvliycyn .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#ghuvliycyn .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#ghuvliycyn .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#ghuvliycyn .gt_center {
  text-align: center;
}

#ghuvliycyn .gt_left {
  text-align: left;
}

#ghuvliycyn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ghuvliycyn .gt_font_normal {
  font-weight: normal;
}

#ghuvliycyn .gt_font_bold {
  font-weight: bold;
}

#ghuvliycyn .gt_font_italic {
  font-style: italic;
}

#ghuvliycyn .gt_super {
  font-size: 65%;
}

#ghuvliycyn .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ghuvliycyn" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_1</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">value_2</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">235.6</td>
<td class="gt_row gt_right">260.1</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">184.3</td>
<td class="gt_row gt_right gt_striped">84.4</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">126.3</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">234.9</td>
<td class="gt_row gt_right gt_striped">83</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">high</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">(234.90, 235.60)</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">(260.10)</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">190.9</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">—</td>
<td class="gt_row gt_right gt_striped">281.2</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">252.3</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">—</td>
<td class="gt_row gt_right gt_striped">546.1</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">high</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">(190.90, 252.30)</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">(281.20, 546.10)</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="3" class="gt_group_heading">C</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">197.2</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">284.3</td>
<td class="gt_row gt_right gt_striped">394.4</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">high</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">(197.20, 284.30)</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">(394.40)</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
<p>We can extract the summary data from the <code>summary_tbl</code> object. Note that columns <code>value_1</code> and <code>value_2</code> are classed as character since it was character outputs that were generated by the <code>agg_highest_two_above_value()</code> function.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">summary_tbl <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="st">  </span><span class="kw"><a href="../reference/extract_summary.html">extract_summary</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/str">str</a></span>()</a>
<a class="sourceLine" id="cb15-4" title="4"><span class="co">#&gt; List of 3</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">#&gt;  $ A:Classes 'tbl_df', 'tbl' and 'data.frame':   1 obs. of  4 variables:</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="co">#&gt;   ..$ groupname: chr "A"</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="co">#&gt;   ..$ rowname  : chr "high"</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">#&gt;   ..$ value_1  : chr "234.90, 235.60"</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">#&gt;   ..$ value_2  : chr "260.10"</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="co">#&gt;  $ B:Classes 'tbl_df', 'tbl' and 'data.frame':   1 obs. of  4 variables:</span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">#&gt;   ..$ groupname: chr "B"</span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="co">#&gt;   ..$ rowname  : chr "high"</span></a>
<a class="sourceLine" id="cb15-13" title="13"><span class="co">#&gt;   ..$ value_1  : chr "190.90, 252.30"</span></a>
<a class="sourceLine" id="cb15-14" title="14"><span class="co">#&gt;   ..$ value_2  : chr "281.20, 546.10"</span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="co">#&gt;  $ C:Classes 'tbl_df', 'tbl' and 'data.frame':   1 obs. of  4 variables:</span></a>
<a class="sourceLine" id="cb15-16" title="16"><span class="co">#&gt;   ..$ groupname: chr "C"</span></a>
<a class="sourceLine" id="cb15-17" title="17"><span class="co">#&gt;   ..$ rowname  : chr "high"</span></a>
<a class="sourceLine" id="cb15-18" title="18"><span class="co">#&gt;   ..$ value_1  : chr "197.20, 284.30"</span></a>
<a class="sourceLine" id="cb15-19" title="19"><span class="co">#&gt;   ..$ value_2  : chr "394.40"</span></a></code></pre></div>
</div>
<div id="using-different-formatters-for-different-columns" class="section level3">
<h3 class="hasAnchor">
<a href="#using-different-formatters-for-different-columns" class="anchor"></a>Using Different Formatters for Different Columns</h3>
<p>Suppose we have data across columns that should be summarized in the same way (i.e., common aggregate functions) but formatted differently (e.g., decimal notation, scientific notation, percentages, etc.). For each type of formatting, we need to call <code><a href="../reference/summary_rows.html">summary_rows()</a></code>, however, we can employ certain strategies to make the code a bit more succinct while doing so.</p>
<p>Let’s start with a new data table. This table contains <code>groupname</code> and <code>rowname</code> columns, which making using <code><a href="../reference/summary_rows.html">summary_rows()</a></code> possible, along with <code>large</code>, <code>medium</code>, and <code>small</code> data columns, all containing numeric values.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">tbl_<span class="dv">2</span> &lt;-</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="st">  </span>dplyr<span class="op">::</span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">tribble</a></span>(</a>
<a class="sourceLine" id="cb16-3" title="3">    <span class="op">~</span>groupname, <span class="op">~</span>rowname, <span class="op">~</span>large,   <span class="op">~</span>medium, <span class="op">~</span>small,</a>
<a class="sourceLine" id="cb16-4" title="4">    <span class="st">"A"</span>,        <span class="st">"1"</span>,      <span class="fl">235342.6</span>, <span class="fl">342.2</span>,   <span class="fl">0.34</span>,</a>
<a class="sourceLine" id="cb16-5" title="5">    <span class="st">"A"</span>,        <span class="st">"2"</span>,      <span class="fl">184123.0</span>, <span class="fl">971.7</span>,   <span class="fl">0.23</span>,</a>
<a class="sourceLine" id="cb16-6" title="6">    <span class="st">"A"</span>,        <span class="st">"3"</span>,      <span class="fl">342622.3</span>, <span class="fl">392.6</span>,   <span class="fl">0.73</span>,</a>
<a class="sourceLine" id="cb16-7" title="7">    <span class="st">"A"</span>,        <span class="st">"4"</span>,      <span class="fl">234353.9</span>, <span class="fl">684.5</span>,   <span class="fl">0.93</span>,</a>
<a class="sourceLine" id="cb16-8" title="8">    <span class="st">"B"</span>,        <span class="st">"1"</span>,      <span class="fl">190983.4</span>, <span class="fl">328.0</span>,   <span class="fl">0.35</span>,</a>
<a class="sourceLine" id="cb16-9" title="9">    <span class="st">"B"</span>,        <span class="st">"2"</span>,      <span class="fl">748250.3</span>, <span class="fl">671.3</span>,   <span class="fl">0.98</span>,</a>
<a class="sourceLine" id="cb16-10" title="10">    <span class="st">"B"</span>,        <span class="st">"3"</span>,      <span class="fl">252781.3</span>, <span class="fl">934.2</span>,   <span class="fl">0.74</span>,</a>
<a class="sourceLine" id="cb16-11" title="11">    <span class="st">"B"</span>,        <span class="st">"4"</span>,      <span class="fl">344030.7</span>, <span class="fl">673.3</span>,   <span class="fl">0.27</span>,</a>
<a class="sourceLine" id="cb16-12" title="12">  )</a>
<a class="sourceLine" id="cb16-13" title="13"></a>
<a class="sourceLine" id="cb16-14" title="14">tbl_<span class="dv">2</span></a>
<a class="sourceLine" id="cb16-15" title="15"><span class="co">#&gt; # A tibble: 8 x 5</span></a>
<a class="sourceLine" id="cb16-16" title="16"><span class="co">#&gt;   groupname rowname   large medium small</span></a>
<a class="sourceLine" id="cb16-17" title="17"><span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb16-18" title="18"><span class="co">#&gt; 1 A         1       235343.   342.  0.34</span></a>
<a class="sourceLine" id="cb16-19" title="19"><span class="co">#&gt; 2 A         2       184123    972.  0.23</span></a>
<a class="sourceLine" id="cb16-20" title="20"><span class="co">#&gt; 3 A         3       342622.   393.  0.73</span></a>
<a class="sourceLine" id="cb16-21" title="21"><span class="co">#&gt; 4 A         4       234354.   684.  0.93</span></a>
<a class="sourceLine" id="cb16-22" title="22"><span class="co">#&gt; 5 B         1       190983.   328   0.35</span></a>
<a class="sourceLine" id="cb16-23" title="23"><span class="co">#&gt; 6 B         2       748250.   671.  0.98</span></a>
<a class="sourceLine" id="cb16-24" title="24"><span class="co">#&gt; 7 B         3       252781.   934.  0.74</span></a>
<a class="sourceLine" id="cb16-25" title="25"><span class="co">#&gt; 8 B         4       344031.   673.  0.27</span></a></code></pre></div>
<p>Here, we would like to apply a different format (both to the data rows and to the summary rows) across the three columns. We can store formatting options to three different list objects (<code>large_fmts</code>, <code>medium_fmts</code>, and <code>small_fmts</code>) and use the stored values in the <strong>gt</strong> pipeline.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co"># Store formatting options in list objects</span></a>
<a class="sourceLine" id="cb17-2" title="2">large_fmts &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(</a>
<a class="sourceLine" id="cb17-4" title="4">    <span class="dt">columns =</span> <span class="st">"large"</span>,</a>
<a class="sourceLine" id="cb17-5" title="5">    <span class="dt">formatter =</span> fmt_scientific,</a>
<a class="sourceLine" id="cb17-6" title="6">    <span class="dt">options =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">decimals =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-7" title="7">  )</a>
<a class="sourceLine" id="cb17-8" title="8"></a>
<a class="sourceLine" id="cb17-9" title="9">medium_fmts &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb17-10" title="10"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(</a>
<a class="sourceLine" id="cb17-11" title="11">    <span class="dt">columns =</span> <span class="st">"medium"</span>,</a>
<a class="sourceLine" id="cb17-12" title="12">    <span class="dt">formatter =</span> fmt_number,</a>
<a class="sourceLine" id="cb17-13" title="13">    <span class="dt">options =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">decimals =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb17-14" title="14">  )</a>
<a class="sourceLine" id="cb17-15" title="15"></a>
<a class="sourceLine" id="cb17-16" title="16">small_fmts &lt;-<span class="st"> </span></a>
<a class="sourceLine" id="cb17-17" title="17"><span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(</a>
<a class="sourceLine" id="cb17-18" title="18">    <span class="dt">columns =</span> <span class="st">"small"</span>,</a>
<a class="sourceLine" id="cb17-19" title="19">    <span class="dt">formatter =</span> fmt_percent,</a>
<a class="sourceLine" id="cb17-20" title="20">    <span class="dt">options =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="dt">decimals =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb17-21" title="21">  )</a>
<a class="sourceLine" id="cb17-22" title="22"></a>
<a class="sourceLine" id="cb17-23" title="23"><span class="co"># Format the data rows, then, create summary rows</span></a>
<a class="sourceLine" id="cb17-24" title="24"><span class="co"># and format summary data for consistent output in</span></a>
<a class="sourceLine" id="cb17-25" title="25"><span class="co"># each column</span></a>
<a class="sourceLine" id="cb17-26" title="26">tbl_<span class="dv">2</span> <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-27" title="27"><span class="st">  </span><span class="kw"><a href="../reference/gt.html">gt</a></span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-28" title="28"><span class="st">  </span><span class="kw"><a href="../reference/fmt_scientific.html">fmt_scientific</a></span>(<span class="dt">columns =</span> large_fmts<span class="op">$</span>columns) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-29" title="29"><span class="st">  </span><span class="kw"><a href="../reference/fmt_number.html">fmt_number</a></span>(<span class="dt">columns =</span> medium_fmts<span class="op">$</span>columns) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-30" title="30"><span class="st">  </span><span class="kw"><a href="../reference/fmt_percent.html">fmt_percent</a></span>(<span class="dt">columns =</span> small_fmts<span class="op">$</span>columns) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-31" title="31"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb17-32" title="32">    <span class="dt">columns =</span> large_fmts<span class="op">$</span>columns,</a>
<a class="sourceLine" id="cb17-33" title="33">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"sum"</span>, <span class="st">"mean"</span>, <span class="st">"sd"</span>),</a>
<a class="sourceLine" id="cb17-34" title="34">    <span class="dt">formatter =</span> large_fmts<span class="op">$</span>formatter</a>
<a class="sourceLine" id="cb17-35" title="35">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-36" title="36"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb17-37" title="37">    <span class="dt">columns =</span> medium_fmts<span class="op">$</span>columns,</a>
<a class="sourceLine" id="cb17-38" title="38">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"sum"</span>, <span class="st">"mean"</span>, <span class="st">"sd"</span>),</a>
<a class="sourceLine" id="cb17-39" title="39">    <span class="dt">formatter =</span> medium_fmts<span class="op">$</span>formatter</a>
<a class="sourceLine" id="cb17-40" title="40">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-41" title="41"><span class="st">  </span><span class="kw"><a href="../reference/summary_rows.html">summary_rows</a></span>(</a>
<a class="sourceLine" id="cb17-42" title="42">    <span class="dt">columns =</span> small_fmts<span class="op">$</span>columns,</a>
<a class="sourceLine" id="cb17-43" title="43">    <span class="dt">fns =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"sum"</span>, <span class="st">"mean"</span>, <span class="st">"sd"</span>),</a>
<a class="sourceLine" id="cb17-44" title="44">    <span class="dt">formatter =</span> small_fmts<span class="op">$</span>formatter</a>
<a class="sourceLine" id="cb17-45" title="45">  )</a></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ztrznteexl .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #000000;
  font-size: 16px;
  background-color: #FFFFFF;
  /* table.background.color */
  width: auto;
  /* table.width */
  border-top-style: solid;
  /* table.border.top.style */
  border-top-width: 2px;
  /* table.border.top.width */
  border-top-color: #A8A8A8;
  /* table.border.top.color */
}

#ztrznteexl .gt_heading {
  background-color: #FFFFFF;
  /* heading.background.color */
  border-bottom-color: #FFFFFF;
}

#ztrznteexl .gt_title {
  color: #000000;
  font-size: 125%;
  /* heading.title.font.size */
  padding-top: 4px;
  /* heading.top.padding */
  padding-bottom: 1px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ztrznteexl .gt_subtitle {
  color: #000000;
  font-size: 85%;
  /* heading.subtitle.font.size */
  padding-top: 1px;
  padding-bottom: 4px;
  /* heading.bottom.padding */
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ztrznteexl .gt_bottom_border {
  border-bottom-style: solid;
  /* heading.border.bottom.style */
  border-bottom-width: 2px;
  /* heading.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* heading.border.bottom.color */
}

#ztrznteexl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  padding-top: 4px;
  padding-bottom: 4px;
}

#ztrznteexl .gt_col_heading {
  color: #000000;
  background-color: #FFFFFF;
  /* column_labels.background.color */
  font-size: 16px;
  /* column_labels.font.size */
  font-weight: initial;
  /* column_labels.font.weight */
  vertical-align: middle;
  padding: 10px;
  margin: 10px;
}

#ztrznteexl .gt_sep_right {
  border-right: 5px solid #FFFFFF;
}

#ztrznteexl .gt_group_heading {
  padding: 8px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#ztrznteexl .gt_empty_group_heading {
  padding: 0.5px;
  color: #000000;
  background-color: #FFFFFF;
  /* stub_group.background.color */
  font-size: 16px;
  /* stub_group.font.size */
  font-weight: initial;
  /* stub_group.font.weight */
  border-top-style: solid;
  /* stub_group.border.top.style */
  border-top-width: 2px;
  /* stub_group.border.top.width */
  border-top-color: #A8A8A8;
  /* stub_group.border.top.color */
  border-bottom-style: solid;
  /* stub_group.border.bottom.style */
  border-bottom-width: 2px;
  /* stub_group.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* stub_group.border.bottom.color */
  vertical-align: middle;
}

#ztrznteexl .gt_striped {
  background-color: #f2f2f2;
}

#ztrznteexl .gt_row {
  padding: 10px;
  /* row.padding */
  margin: 10px;
  vertical-align: middle;
}

#ztrznteexl .gt_stub {
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #A8A8A8;
  padding-left: 12px;
}

#ztrznteexl .gt_stub.gt_row {
  background-color: #FFFFFF;
}

#ztrznteexl .gt_summary_row {
  background-color: #FFFFFF;
  /* summary_row.background.color */
  padding: 6px;
  /* summary_row.padding */
  text-transform: inherit;
  /* summary_row.text_transform */
}

#ztrznteexl .gt_first_summary_row {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
}

#ztrznteexl .gt_table_body {
  border-top-style: solid;
  /* field.border.top.style */
  border-top-width: 2px;
  /* field.border.top.width */
  border-top-color: #A8A8A8;
  /* field.border.top.color */
  border-bottom-style: solid;
  /* field.border.bottom.style */
  border-bottom-width: 2px;
  /* field.border.bottom.width */
  border-bottom-color: #A8A8A8;
  /* field.border.bottom.color */
}

#ztrznteexl .gt_footnote {
  font-size: 90%;
  /* footnote.font.size */
  padding: 4px;
  /* footnote.padding */
}

#ztrznteexl .gt_sourcenote {
  font-size: 90%;
  /* sourcenote.font.size */
  padding: 4px;
  /* sourcenote.padding */
}

#ztrznteexl .gt_center {
  text-align: center;
}

#ztrznteexl .gt_left {
  text-align: left;
}

#ztrznteexl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ztrznteexl .gt_font_normal {
  font-weight: normal;
}

#ztrznteexl .gt_font_bold {
  font-weight: bold;
}

#ztrznteexl .gt_font_italic {
  font-style: italic;
}

#ztrznteexl .gt_super {
  font-size: 65%;
}

#ztrznteexl .gt_footnote_glyph {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="ztrznteexl" style="overflow-x:auto;">
<!--gt table start-->
<table class="table gt_table">
<tr>
<th class="gt_col_heading gt_left" rowspan="1" colspan="1"></th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">large</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">medium</th>
<th class="gt_col_heading gt_right" rowspan="1" colspan="1">small</th>
</tr>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">A</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">2.35 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_right">342.20</td>
<td class="gt_row gt_right">34.00%</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">1.84 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_right gt_striped">971.70</td>
<td class="gt_row gt_right gt_striped">23.00%</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">3.43 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_right">392.60</td>
<td class="gt_row gt_right">73.00%</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">2.34 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_right gt_striped">684.50</td>
<td class="gt_row gt_right gt_striped">93.00%</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">sum</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">9.96 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">2,391.00</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">223.00%</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">mean</td>
<td class="gt_row gt_summary_row gt_right">2.49 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_summary_row gt_right">597.75</td>
<td class="gt_row gt_summary_row gt_right">55.75%</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sd</td>
<td class="gt_row gt_summary_row gt_right">6.68 × 10<sup class="gt_super">4</sup>
</td>
<td class="gt_row gt_summary_row gt_right">291.41</td>
<td class="gt_row gt_summary_row gt_right">32.82%</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">B</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">1</td>
<td class="gt_row gt_right">1.91 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_right">328.00</td>
<td class="gt_row gt_right">35.00%</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">2</td>
<td class="gt_row gt_right gt_striped">7.48 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_right gt_striped">671.30</td>
<td class="gt_row gt_right gt_striped">98.00%</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">3</td>
<td class="gt_row gt_right">2.53 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_right">934.20</td>
<td class="gt_row gt_right">74.00%</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_left">4</td>
<td class="gt_row gt_right gt_striped">3.44 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_right gt_striped">673.30</td>
<td class="gt_row gt_right gt_striped">27.00%</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_first_summary_row gt_left">sum</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">1.54 × 10<sup class="gt_super">6</sup>
</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">2,606.80</td>
<td class="gt_row gt_summary_row gt_first_summary_row gt_right">234.00%</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">mean</td>
<td class="gt_row gt_summary_row gt_right">3.84 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_summary_row gt_right">651.70</td>
<td class="gt_row gt_summary_row gt_right">58.50%</td>
</tr>
<tr>
<td class="gt_stub gt_row gt_summary_row gt_left">sd</td>
<td class="gt_row gt_summary_row gt_right">2.51 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_summary_row gt_right">248.62</td>
<td class="gt_row gt_summary_row gt_right">33.39%</td>
</tr>
</tbody>
</table>
<!--gt table end-->
</div>
<p>Passing in parameters like this is useful, especially if there are larger numbers of columns. Additionally, we can store formatting parameters outside of the <code><a href="../reference/gt.html">gt()</a></code> pipeline and separate our concerns between data structuring and data formatting. The separation of styles and options into objects becomes more important if we intend to centralize formatting options for reuse.</p>
<p>Another thing to note in the above example is that even though multiple independent calls of <code><a href="../reference/summary_rows.html">summary_rows()</a></code> were made, summary data within common summary row names were ‘squashed’ together, thus avoiding the fragmentation of summary rows. Put another way, we don’t create additional summary rows from a group across separate calls if we are referencing the same summary row labels. If the summary row labels provided in <code>fns</code> were to be different across columns, however, additional summary rows would be produced even if the types of data aggregations were to be functionally equivalent.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Richard Iannone, Joe Cheng, Barret Schloerke, <a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.9000.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
