<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add summary rows using aggregation functions — summary_rows • gt</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Add summary rows using aggregation functions — summary_rows" />

<meta property="og:description" content="Add summary rows to one or more stub blocks by using the input data already
  provided in the gt() function alongside any suitable
  aggregation functions. Should we need to obtain the summary data for
  external purposes, the extract_summary() can be used with
  a gt_tbl object where summary rows were added via
summary_rows()." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gt</a>
        <span class="label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased package">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/creating-display-tables.html">Creating Display Tables</a>
    </li>
    <li>
      <a href="../articles/creating-summary-lines.html">Creating Summary Lines</a>
    </li>
    <li>
      <a href="../articles/example-mtcars.html">An Example: mtcars</a>
    </li>
    <li>
      <a href="../articles/modifying-columns.html">Modifying Columns</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/gt">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add summary rows using aggregation functions</h1>
    <small class="dont-index">Source: <a href='https://github.com/rstudio/gt/blob/master/R/summary_rows.R'><code>R/summary_rows.R</code></a></small>
    <div class="hidden name"><code>summary_rows.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Add summary rows to one or more stub blocks by using the input data already
  provided in the <code><a href='gt.html'>gt()</a></code> function alongside any suitable
  aggregation functions. Should we need to obtain the summary data for
  external purposes, the <code><a href='extract_summary.html'>extract_summary</a>()</code> can be used with
  a <code>gt_tbl</code> object where summary rows were added via
<code>summary_rows()</code>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>summary_rows</span>(<span class='no'>data</span>, <span class='kw'>groups</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>columns</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>funs</span>,
  <span class='kw'>missing_text</span> <span class='kw'>=</span> <span class='st'>"---"</span>, <span class='kw'>formatter</span> <span class='kw'>=</span> <span class='no'>fmt_number</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a table object that is created using the <code><a href='gt.html'>gt()</a></code> function.</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>the stub block groups heading names for which summary rows
will be added.</p></td>
    </tr>
    <tr>
      <th>columns</th>
      <td><p>the columns for which the summaries should be calculated. If
nothing is provided, then the supplied aggregation functions will be applied
to all columns.</p></td>
    </tr>
    <tr>
      <th>funs</th>
      <td><p>functions used for aggregations. This can include base functions
like <code>mean</code>, <code>min</code>, <code>max</code>, <code>median</code>, <code>sd</code>, or
<code>sum</code>. The functions should be supplied using the <code><a href='funs.html'>funs</a>()</code>
helper function. With <code><a href='funs.html'>funs()</a></code>, we can specify the functions by use of
function names (e.g., <code>"sum"</code>), the functions themselves
(e.g., <code>sum</code>), or calls to functions with <code>.</code> as a dummy argument
(e.g., <code>sum(., na.rm = TRUE)</code>).</p></td>
    </tr>
    <tr>
      <th>missing_text</th>
      <td><p>the text to be used in place of <code>NA</code> values in
summary cells with no data outputs.</p></td>
    </tr>
    <tr>
      <th>formatter</th>
      <td><p>a formatter function name. These can be any of the
<code>fmt_*</code>functions available in the package (e.g.,
<code><a href='fmt_number.html'>fmt_number</a></code>, <code>link{fmt_percent}</code>, etc.), or a custom
function using <code><a href='fmt.html'>fmt</a>()</code>. The default function is
<code><a href='fmt_number.html'>fmt_number</a>()</code> and its options can be accessed through
<code>...</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>values passed to the <code>formatter</code> function, where the provided
values are to be in the form of named vectors. For example, when using the
default <code>formatter</code> function, <code><a href='fmt_number.html'>fmt_number</a></code>, options such
as <code>decimals</code>, <code>use_seps</code>, and <code>locale</code> can be used.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an object of class <code>gt_tbl</code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>library</span>(<span class='no'>tidyverse</span>)

<span class='co'># Create a table that creates a stub and</span>
<span class='co'># stub blocks based on a naming convention</span>
<span class='no'>tbl</span> <span class='kw'>&lt;-</span>
  <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='http://dplyr.tidyverse.org/reference/reexports.html'>tribble</a></span>(
    ~<span class='no'>groupname</span>, ~<span class='no'>rowname</span>, ~<span class='no'>value_1</span>, ~<span class='no'>value_2</span>,
    <span class='st'>"A"</span>,        <span class='st'>"1"</span>,      <span class='fl'>NA</span>,       <span class='fl'>260.1</span>,
    <span class='st'>"A"</span>,        <span class='st'>"2"</span>,      <span class='fl'>184.3</span>,    <span class='fl'>84.4</span>,
    <span class='st'>"A"</span>,        <span class='st'>"3"</span>,      <span class='fl'>342.3</span>,    <span class='fl'>126.3</span>,
    <span class='st'>"A"</span>,        <span class='st'>"4"</span>,      <span class='fl'>234.9</span>,    <span class='fl'>NA</span>,
    <span class='st'>"B"</span>,        <span class='st'>"1"</span>,      <span class='fl'>190.9</span>,    <span class='fl'>832.5</span>,
    <span class='st'>"B"</span>,        <span class='st'>"2"</span>,      <span class='fl'>743.3</span>,    <span class='fl'>281.2</span>,
    <span class='st'>"B"</span>,        <span class='st'>"3"</span>,      <span class='fl'>252.3</span>,    <span class='fl'>732.5</span>,
    <span class='st'>"B"</span>,        <span class='st'>"4"</span>,      <span class='fl'>344.7</span>,    <span class='fl'>NA</span>,
    <span class='st'>"C"</span>,        <span class='st'>"1"</span>,      <span class='fl'>197.2</span>,    <span class='fl'>818.0</span>,
    <span class='st'>"C"</span>,        <span class='st'>"2"</span>,      <span class='fl'>284.3</span>,    <span class='fl'>394.4</span>)

<span class='co'># Create a table with summary rows for the</span>
<span class='co'># `A` and `C` groups; the 3 summary rows</span>
<span class='co'># for these groups represent the mean, sum,</span>
<span class='co'># and standard deviation of `value`</span>
<span class='no'>gt_tbl</span> <span class='kw'>&lt;-</span>
  <span class='fu'><a href='gt.html'>gt</a></span>(<span class='no'>tbl</span>) <span class='kw'>%&gt;%</span>
    <span class='fu'>summary_rows</span>(
      <span class='kw'>groups</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"A"</span>, <span class='st'>"C"</span>),
      <span class='kw'>columns</span> <span class='kw'>=</span> <span class='fu'><a href='vars.html'>vars</a></span>(<span class='no'>value_1</span>),
      <span class='kw'>funs</span> <span class='kw'>=</span> <span class='fu'><a href='funs.html'>funs</a></span>(
        <span class='kw'>average</span> <span class='kw'>=</span> <span class='fu'>mean</span>(<span class='no'>.</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>),
        <span class='kw'>total</span> <span class='kw'>=</span> <span class='fu'>sum</span>(<span class='no'>.</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>),
        <span class='kw'>`std dev`</span> <span class='kw'>=</span> <span class='fu'>sd</span>(<span class='no'>.</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Richard Iannone, <a href='https://www.rstudio.com'><img src='https://tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

