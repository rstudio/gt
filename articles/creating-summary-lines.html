<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating Summary Lines • gt</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating Summary Lines">
<meta property="og:description" content="gt">
<meta property="og:image" content="https://gt.rstudio.com/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/intro-creating-gt-tables.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">How to Use</li>
    <li>
      <a href="../articles/gt-datasets.html">gt Datasets</a>
    </li>
    <li>
      <a href="../articles/creating-summary-lines.html">Summary Lines</a>
    </li>
    <li class="dropdown-header">Case Studies</li>
    <li>
      <a href="../articles/case-study-gtcars.html">Case Study: gtcars</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rstudio/gt">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="creating-summary-lines_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Creating Summary Lines</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstudio/gt/blob/master/vignettes/creating-summary-lines.Rmd"><code>vignettes/creating-summary-lines.Rmd</code></a></small>
      <div class="hidden name"><code>creating-summary-lines.Rmd</code></div>

    </div>

    
    
<p>We can use the <strong>gt</strong> <code><a href="../reference/summary_rows.html">summary_rows()</a></code> function to insert summary rows into a table. There are two main types of summary rows: (1) groupwise summaries, and (2) the grand summary. The groupwise summaries operate on one or more row groups, which can themselves be generated in a variety of ways:</p>
<ul>
<li>with the <code><a href="../reference/gt.html">gt()</a></code> function’s <code>groupname_col</code> option</li>
<li>using the <code><a href="../reference/tab_row_group.html">tab_row_group()</a></code> function on a gt object</li>
<li>by passing in a grouped <code>tbl_df</code> object to <code><a href="../reference/gt.html">gt()</a></code> (using <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">dplyr::group_by()</a></code>)</li>
</ul>
<p>We generate the summary data through specification of aggregation functions. You choose how to format the values in the resulting summary cells by use of a formatter function (e.g, <code><a href="../reference/fmt_number.html">fmt_number()</a></code>) and any relevant options. These summary rows are automatically inserted within the relevant row groups (for groupwise summaries) or at the bottom of the table (as a grand summary), where each summary row is the result of a different aggregation function.</p>
<div id="preparing-the-input-data-table" class="section level3">
<h3 class="hasAnchor">
<a href="#preparing-the-input-data-table" class="anchor"></a>Preparing the Input Data Table</h3>
<p>Let’s use the <code>exibble</code> dataset (included in the <strong>gt</strong> package) to demonstrate how summary rows can be added. That table contains categorical columns named <code>row</code> and <code>group</code>, along several columns with varying data types. Here is a preview of the <code>exibble</code> dataset using solely the <code><a href="../reference/gt.html">gt()</a></code> function with no other options:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">exibble</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#fbqsqrtlxd .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fbqsqrtlxd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fbqsqrtlxd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fbqsqrtlxd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fbqsqrtlxd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fbqsqrtlxd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fbqsqrtlxd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fbqsqrtlxd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fbqsqrtlxd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fbqsqrtlxd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fbqsqrtlxd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fbqsqrtlxd .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#fbqsqrtlxd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fbqsqrtlxd .gt_from_md > :first-child {
  margin-top: 0;
}

#fbqsqrtlxd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fbqsqrtlxd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fbqsqrtlxd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#fbqsqrtlxd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fbqsqrtlxd .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#fbqsqrtlxd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fbqsqrtlxd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fbqsqrtlxd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fbqsqrtlxd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fbqsqrtlxd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fbqsqrtlxd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#fbqsqrtlxd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fbqsqrtlxd .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#fbqsqrtlxd .gt_left {
  text-align: left;
}

#fbqsqrtlxd .gt_center {
  text-align: center;
}

#fbqsqrtlxd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fbqsqrtlxd .gt_font_normal {
  font-weight: normal;
}

#fbqsqrtlxd .gt_font_bold {
  font-weight: bold;
}

#fbqsqrtlxd .gt_font_italic {
  font-style: italic;
}

#fbqsqrtlxd .gt_super {
  font-size: 65%;
}

#fbqsqrtlxd .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="fbqsqrtlxd" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">fctr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">date</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">time</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">datetime</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">row</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">group</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_right">1.111e-01</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_center">one</td>
<td class="gt_row gt_left">2015-01-15</td>
<td class="gt_row gt_left">13:35</td>
<td class="gt_row gt_left">2018-01-01 02:22</td>
<td class="gt_row gt_right">49.950</td>
<td class="gt_row gt_left">row_1</td>
<td class="gt_row gt_left">grp_a</td>
</tr>
<tr>
<td class="gt_row gt_right">2.222e+00</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_center">two</td>
<td class="gt_row gt_left">2015-02-15</td>
<td class="gt_row gt_left">14:40</td>
<td class="gt_row gt_left">2018-02-02 14:33</td>
<td class="gt_row gt_right">17.950</td>
<td class="gt_row gt_left">row_2</td>
<td class="gt_row gt_left">grp_a</td>
</tr>
<tr>
<td class="gt_row gt_right">3.333e+01</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_center">three</td>
<td class="gt_row gt_left">2015-03-15</td>
<td class="gt_row gt_left">15:45</td>
<td class="gt_row gt_left">2018-03-03 03:44</td>
<td class="gt_row gt_right">1.390</td>
<td class="gt_row gt_left">row_3</td>
<td class="gt_row gt_left">grp_a</td>
</tr>
<tr>
<td class="gt_row gt_right">4.444e+02</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_center">four</td>
<td class="gt_row gt_left">2015-04-15</td>
<td class="gt_row gt_left">16:50</td>
<td class="gt_row gt_left">2018-04-04 15:55</td>
<td class="gt_row gt_right">65100.000</td>
<td class="gt_row gt_left">row_4</td>
<td class="gt_row gt_left">grp_a</td>
</tr>
<tr>
<td class="gt_row gt_right">5.550e+03</td>
<td class="gt_row gt_left">NA</td>
<td class="gt_row gt_center">five</td>
<td class="gt_row gt_left">2015-05-15</td>
<td class="gt_row gt_left">17:55</td>
<td class="gt_row gt_left">2018-05-05 04:00</td>
<td class="gt_row gt_right">1325.810</td>
<td class="gt_row gt_left">row_5</td>
<td class="gt_row gt_left">grp_b</td>
</tr>
<tr>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_center">six</td>
<td class="gt_row gt_left">2015-06-15</td>
<td class="gt_row gt_left">NA</td>
<td class="gt_row gt_left">2018-06-06 16:11</td>
<td class="gt_row gt_right">13.255</td>
<td class="gt_row gt_left">row_6</td>
<td class="gt_row gt_left">grp_b</td>
</tr>
<tr>
<td class="gt_row gt_right">7.770e+05</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_center">seven</td>
<td class="gt_row gt_left">NA</td>
<td class="gt_row gt_left">19:10</td>
<td class="gt_row gt_left">2018-07-07 05:22</td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_left">row_7</td>
<td class="gt_row gt_left">grp_b</td>
</tr>
<tr>
<td class="gt_row gt_right">8.880e+06</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_center">eight</td>
<td class="gt_row gt_left">2015-08-15</td>
<td class="gt_row gt_left">20:20</td>
<td class="gt_row gt_left">NA</td>
<td class="gt_row gt_right">0.440</td>
<td class="gt_row gt_left">row_8</td>
<td class="gt_row gt_left">grp_b</td>
</tr>
</tbody>
</table></div>
<p>We’ll create a table stub with both row labels (using the <code>row</code> column) and row groups (using the <code>group</code> column). The end result will be a table organized with labeled rows that are grouped together (the row group labels identify each of the row groups). To make the examples a bit easier to follow, some of the columns in exibble will first be dropped through a <code><a href="https://dplyr.tidyverse.org/reference/select.html">dplyr::select()</a></code> statement.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a gt table using the `exibble` dataset</span>
<span class="va">exibble_a</span> <span class="op">&lt;-</span>
  <span class="va">exibble</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">fctr</span>, <span class="va">date</span>, <span class="va">time</span>, <span class="va">datetime</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span>rowname_col <span class="op">=</span> <span class="st">"row"</span>, groupname_col <span class="op">=</span> <span class="st">"group"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/fmt_missing.html">fmt_missing</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="va">exibble_a</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#nnegwwlcxl .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nnegwwlcxl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nnegwwlcxl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nnegwwlcxl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nnegwwlcxl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nnegwwlcxl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nnegwwlcxl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nnegwwlcxl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nnegwwlcxl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nnegwwlcxl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nnegwwlcxl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nnegwwlcxl .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#nnegwwlcxl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nnegwwlcxl .gt_from_md > :first-child {
  margin-top: 0;
}

#nnegwwlcxl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nnegwwlcxl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nnegwwlcxl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#nnegwwlcxl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nnegwwlcxl .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#nnegwwlcxl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nnegwwlcxl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nnegwwlcxl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nnegwwlcxl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nnegwwlcxl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nnegwwlcxl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#nnegwwlcxl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nnegwwlcxl .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#nnegwwlcxl .gt_left {
  text-align: left;
}

#nnegwwlcxl .gt_center {
  text-align: center;
}

#nnegwwlcxl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nnegwwlcxl .gt_font_normal {
  font-weight: normal;
}

#nnegwwlcxl .gt_font_bold {
  font-weight: bold;
}

#nnegwwlcxl .gt_font_italic {
  font-style: italic;
}

#nnegwwlcxl .gt_super {
  font-size: 65%;
}

#nnegwwlcxl .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="nnegwwlcxl" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1.111e-01</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">49.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2.222e+00</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">17.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3.333e+01</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">1.390</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4.444e+02</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">65100.000</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5.550e+03</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">1325.810</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">13.255</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7.770e+05</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8.880e+06</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">0.440</td>
</tr>
</tbody>
</table></div>
<p>There are two groups in this data table: <code>grp_a</code> and <code>grp_b</code>. This gives us flexibility to create both a grand summary and groupwise summary rows.</p>
</div>
<div id="generating-groupwise-summary-rows" class="section level3">
<h3 class="hasAnchor">
<a href="#generating-groupwise-summary-rows" class="anchor"></a>Generating Groupwise Summary Rows</h3>
<p>Groupwise summary rows can be generated by using the <code><a href="../reference/summary_rows.html">summary_rows()</a></code> function and, importantly, through specifying the groups that will receive summary rows. We can provide a vector group names, as in <code><a href="https://rdrr.io/r/base/c.html">c("grp_a", "grp_b")</a></code>, or, use <code>TRUE</code> to signify that all groups should receive summary rows. Aside from the selection of groups, there is control over which columns are to used for the summary. Since each call to <code><a href="../reference/summary_rows.html">summary_rows()</a></code> only performs one set of aggregation functions, we may want specific aggregations for different subsets of columns.</p>
<p>To make any sort of summary, we need to use functions that will perform the aggregation. We can provide base functions such as <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>, <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code>, <code><a href="https://rdrr.io/r/base/Extremes.html">min()</a></code>, <code><a href="https://rdrr.io/r/base/Extremes.html">max()</a></code>, and more, within a <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>. Each function provided will result in a summary row for each <code>group</code>.</p>
<p>Because each function will yield a row, we need to be able to label that row. So, each summary row will receive a summary row label. We can provide our preferred names by naming the functions within the list (e.g, <code><a href="https://rdrr.io/r/base/list.html">list(average = "mean", total = "sum", SD = "sd")</a></code>).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create groupwise summary rows for both</span>
<span class="co"># groups (using `groups = TRUE`); use the</span>
<span class="co"># `mean()`, `sum()`, and `sd()` functions</span>
<span class="co"># (only for the `num` column)</span>
<span class="va">exibble_b</span> <span class="op">&lt;-</span> 
  <span class="va">exibble_a</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/summary_rows.html">summary_rows</a></span><span class="op">(</span>
    groups <span class="op">=</span> <span class="cn">TRUE</span>,
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      average <span class="op">=</span> <span class="st">"mean"</span>,
      total <span class="op">=</span> <span class="st">"sum"</span>,
      SD <span class="op">=</span> <span class="st">"sd"</span><span class="op">)</span>
  <span class="op">)</span>

<span class="va">exibble_b</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#bydjucjihu .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bydjucjihu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bydjucjihu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bydjucjihu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bydjucjihu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bydjucjihu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bydjucjihu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bydjucjihu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bydjucjihu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bydjucjihu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bydjucjihu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bydjucjihu .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#bydjucjihu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bydjucjihu .gt_from_md > :first-child {
  margin-top: 0;
}

#bydjucjihu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bydjucjihu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bydjucjihu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#bydjucjihu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bydjucjihu .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#bydjucjihu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bydjucjihu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bydjucjihu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bydjucjihu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bydjucjihu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bydjucjihu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#bydjucjihu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bydjucjihu .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#bydjucjihu .gt_left {
  text-align: left;
}

#bydjucjihu .gt_center {
  text-align: center;
}

#bydjucjihu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bydjucjihu .gt_font_normal {
  font-weight: normal;
}

#bydjucjihu .gt_font_bold {
  font-weight: bold;
}

#bydjucjihu .gt_font_italic {
  font-style: italic;
}

#bydjucjihu .gt_super {
  font-size: 65%;
}

#bydjucjihu .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="bydjucjihu" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1.111e-01</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">49.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2.222e+00</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">17.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3.333e+01</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">1.390</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4.444e+02</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">65100.000</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">average</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">120.02</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">480.06</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">SD</td>
      <td class="gt_row gt_right gt_summary_row">216.79</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5.550e+03</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">1325.810</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">13.255</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7.770e+05</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8.880e+06</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">0.440</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">average</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">SD</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
</tbody>
</table></div>
<p>We can specify the aggregation functions by use of function names in quotes (e.g., <code>"sum"</code>), as bare functions (e.g., <code>sum</code>), or as one-sided R formulas using a leading <code><a href="https://rdrr.io/r/base/tilde.html">~</a></code>. In the formula representation, a <code>.</code> serves as the data to be summarized, so we can use <code><a href="https://rdrr.io/r/base/sum.html">sum(., na.rm = TRUE)</a></code>. The use of named arguments is recommended as those names will serve as summary row labels (the labels can derived from the function names but only when not providing bare function names).</p>
<p>Now that the <code><a href="../reference/summary_rows.html">summary_rows()</a></code> function has been somewhat explained, let’s look at how we can create groupwise summary rows for the <code>exibble_a</code> table. We’ll create summaries for both available groups (<code>groups = TRUE</code>) and use the <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>, <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code>, and <code><a href="https://rdrr.io/r/stats/sd.html">sd()</a></code> functions with the <em>function-name-in-quotes</em> method (and this will only pertain to the <code>num</code> column).</p>
<p>In the previous example we have an <code>NA</code> value in the <code>num/row_6</code> cell, and so we get <code>NA</code> outputs from <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>, <code><a href="https://rdrr.io/r/base/sum.html">sum()</a></code>, and <code><a href="https://rdrr.io/r/stats/sd.html">sd()</a></code> in <code>grp_b</code>’s summary rows (which are replaced with em dashes, itself controllable through the <code>missing_text</code> option). To avoid this, let’s rewrite the above using the <em>names-and-formulae</em> method.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create groupwise summary rows for both</span>
<span class="co"># groups (using `groups = TRUE`); we will</span>
<span class="co"># use names and formulas this time in `fns`</span>
<span class="va">exibble_c</span> <span class="op">&lt;-</span> 
  <span class="va">exibble_a</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/summary_rows.html">summary_rows</a></span><span class="op">(</span>
    groups <span class="op">=</span> <span class="cn">TRUE</span>,
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      avg <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">.</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
      total <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
      s.d. <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">.</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span>

<span class="va">exibble_c</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#jnjsqtvzvu .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jnjsqtvzvu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jnjsqtvzvu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jnjsqtvzvu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jnjsqtvzvu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jnjsqtvzvu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jnjsqtvzvu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jnjsqtvzvu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jnjsqtvzvu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jnjsqtvzvu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jnjsqtvzvu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jnjsqtvzvu .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#jnjsqtvzvu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jnjsqtvzvu .gt_from_md > :first-child {
  margin-top: 0;
}

#jnjsqtvzvu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jnjsqtvzvu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jnjsqtvzvu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#jnjsqtvzvu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jnjsqtvzvu .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#jnjsqtvzvu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jnjsqtvzvu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jnjsqtvzvu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jnjsqtvzvu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jnjsqtvzvu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jnjsqtvzvu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#jnjsqtvzvu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jnjsqtvzvu .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#jnjsqtvzvu .gt_left {
  text-align: left;
}

#jnjsqtvzvu .gt_center {
  text-align: center;
}

#jnjsqtvzvu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jnjsqtvzvu .gt_font_normal {
  font-weight: normal;
}

#jnjsqtvzvu .gt_font_bold {
  font-weight: bold;
}

#jnjsqtvzvu .gt_font_italic {
  font-style: italic;
}

#jnjsqtvzvu .gt_super {
  font-size: 65%;
}

#jnjsqtvzvu .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="jnjsqtvzvu" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1.111e-01</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">49.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2.222e+00</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">17.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3.333e+01</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">1.390</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4.444e+02</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">65100.000</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">120.02</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">480.06</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">216.79</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5.550e+03</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">1325.810</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">13.255</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7.770e+05</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8.880e+06</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">0.440</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">3,220,850.00</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">9,662,550.00</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">4,916,123.25</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
</tbody>
</table></div>
<p>Here we see that summary rows were created for both groups. However, the output of the summary row data is quite different than that of the cell data. The <code>formatter</code> argument (and extra <code>...</code> arguments) allows for use of any of the <code>fmt_*()</code> functions that we’d normally use to format cell data. In this example (another rewrite of the above), the cell data in the <code>num</code> column is formatted in scientific notation and the resulting summary cell data is also formatted in the same way (including the options of <code>decimals = 3</code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Define a named list of aggregation</span>
<span class="co"># functions and summary row labels</span>
<span class="va">fns_labels</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    avg <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">.</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
    total <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">.</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
    s.d. <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">.</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
  <span class="op">)</span>

<span class="co"># Create groupwise summary rows as</span>
<span class="co"># before, supply `fns_labels` to `fns`,</span>
<span class="co"># and format the cell summary data</span>
<span class="va">exibble_d</span> <span class="op">&lt;-</span> 
  <span class="va">exibble_a</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/fmt_scientific.html">fmt_scientific</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    decimals <span class="op">=</span> <span class="fl">3</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/summary_rows.html">summary_rows</a></span><span class="op">(</span>
    groups <span class="op">=</span> <span class="cn">TRUE</span>,
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="va">fns_labels</span>,
    formatter <span class="op">=</span> <span class="va">fmt_scientific</span>,
    decimals <span class="op">=</span> <span class="fl">3</span>
  <span class="op">)</span>

<span class="va">exibble_d</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hjlvxhcfni .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hjlvxhcfni .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hjlvxhcfni .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hjlvxhcfni .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hjlvxhcfni .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hjlvxhcfni .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hjlvxhcfni .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hjlvxhcfni .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hjlvxhcfni .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hjlvxhcfni .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hjlvxhcfni .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hjlvxhcfni .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hjlvxhcfni .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hjlvxhcfni .gt_from_md > :first-child {
  margin-top: 0;
}

#hjlvxhcfni .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hjlvxhcfni .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hjlvxhcfni .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#hjlvxhcfni .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hjlvxhcfni .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#hjlvxhcfni .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hjlvxhcfni .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hjlvxhcfni .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hjlvxhcfni .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hjlvxhcfni .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hjlvxhcfni .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#hjlvxhcfni .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hjlvxhcfni .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#hjlvxhcfni .gt_left {
  text-align: left;
}

#hjlvxhcfni .gt_center {
  text-align: center;
}

#hjlvxhcfni .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hjlvxhcfni .gt_font_normal {
  font-weight: normal;
}

#hjlvxhcfni .gt_font_bold {
  font-weight: bold;
}

#hjlvxhcfni .gt_font_italic {
  font-style: italic;
}

#hjlvxhcfni .gt_super {
  font-size: 65%;
}

#hjlvxhcfni .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="hjlvxhcfni" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1.111 × 10<sup class="gt_super">−1</sup>
</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">49.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2.222</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">17.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3.333 × 10<sup class="gt_super">1</sup>
</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">1.390</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4.444 × 10<sup class="gt_super">2</sup>
</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">65100.000</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">1.200 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">4.801 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">2.168 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5.550 × 10<sup class="gt_super">3</sup>
</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">1325.810</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">13.255</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7.770 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8.880 × 10<sup class="gt_super">6</sup>
</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">0.440</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">3.221 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">9.663 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">4.916 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
</tbody>
</table></div>
<p>The input to <code>fns</code> is very permissive in regard to how the functions are defined. It is entirely valid to provide functions in the various forms shown earlier such that <code><a href="https://rdrr.io/r/base/list.html">list("sum", avg = ~mean(., na.rm = TRUE), SD = "sd")</a></code> will be correctly interpreted. It is recommended to use formula notation.</p>
<p>The default for <code>formatter</code> is set to <code>fmt_number</code> which is a sensible default for many scenarios. The setting of argument values for a particular formatter can be done in the <code>...</code> area of the function call (as was done above for the <code>decimals</code> argument).</p>
</div>
<div id="using-multiple-calls-of-summary_rows" class="section level3">
<h3 class="hasAnchor">
<a href="#using-multiple-calls-of-summary_rows" class="anchor"></a>Using Multiple Calls of <code>summary_rows()</code>
</h3>
<p>We can re-use summary row labels and fill the otherwise empty summary cells with similar aggregations but perhaps with different formatting options. Here’s an example where the <code>currency</code> column contains aggregate values that share the same summary rows as for the <code>num</code> column, adds two more rows, and uses currency formatting:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create groupwise summary rows as</span>
<span class="co"># before, supply `fns_labels` to `fns`,</span>
<span class="co"># and format the cell summary data</span>
<span class="va">exibble_e</span> <span class="op">&lt;-</span> 
  <span class="va">exibble_a</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/fmt_scientific.html">fmt_scientific</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    decimals <span class="op">=</span> <span class="fl">3</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/fmt_currency.html">fmt_currency</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">currency</span><span class="op">)</span>,
    currency <span class="op">=</span> <span class="st">"EUR"</span>
    <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/summary_rows.html">summary_rows</a></span><span class="op">(</span>
    groups <span class="op">=</span> <span class="cn">TRUE</span>,
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="va">fns_labels</span>,
    formatter <span class="op">=</span> <span class="va">fmt_scientific</span>,
    decimals <span class="op">=</span> <span class="fl">3</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/summary_rows.html">summary_rows</a></span><span class="op">(</span>
    groups <span class="op">=</span> <span class="st">"grp_a"</span>,
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">currency</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
      <span class="va">fns_labels</span>,
      min <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>,
      max <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span>,
    formatter <span class="op">=</span> <span class="va">fmt_currency</span>,
    currency <span class="op">=</span> <span class="st">"EUR"</span>
  <span class="op">)</span>

<span class="va">exibble_e</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#gkdzwcsyej .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gkdzwcsyej .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gkdzwcsyej .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gkdzwcsyej .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gkdzwcsyej .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gkdzwcsyej .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gkdzwcsyej .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gkdzwcsyej .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gkdzwcsyej .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gkdzwcsyej .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gkdzwcsyej .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gkdzwcsyej .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#gkdzwcsyej .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gkdzwcsyej .gt_from_md > :first-child {
  margin-top: 0;
}

#gkdzwcsyej .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gkdzwcsyej .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gkdzwcsyej .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#gkdzwcsyej .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gkdzwcsyej .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#gkdzwcsyej .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gkdzwcsyej .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gkdzwcsyej .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gkdzwcsyej .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gkdzwcsyej .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gkdzwcsyej .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#gkdzwcsyej .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gkdzwcsyej .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#gkdzwcsyej .gt_left {
  text-align: left;
}

#gkdzwcsyej .gt_center {
  text-align: center;
}

#gkdzwcsyej .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gkdzwcsyej .gt_font_normal {
  font-weight: normal;
}

#gkdzwcsyej .gt_font_bold {
  font-weight: bold;
}

#gkdzwcsyej .gt_font_italic {
  font-style: italic;
}

#gkdzwcsyej .gt_super {
  font-size: 65%;
}

#gkdzwcsyej .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="gkdzwcsyej" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1.111 × 10<sup class="gt_super">−1</sup>
</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">€49.95</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2.222</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">€17.95</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3.333 × 10<sup class="gt_super">1</sup>
</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">€1.39</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4.444 × 10<sup class="gt_super">2</sup>
</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">€65,100.00</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">1.200 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">€16,292.32</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">4.801 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€65,169.29</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">2.168 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€32,538.46</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">min</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€1.39</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">max</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€65,100.00</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5.550 × 10<sup class="gt_super">3</sup>
</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">€1,325.81</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">€13.26</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7.770 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8.880 × 10<sup class="gt_super">6</sup>
</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">€0.44</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">3.221 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">9.663 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">4.916 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
</tbody>
</table></div>
<p>A thing to again note in the above example is that even though two independent calls of <code><a href="../reference/summary_rows.html">summary_rows()</a></code> were made, summary data within common summary row names were ‘squashed’ together, thus avoiding the fragmentation of summary rows. Put another way, we don’t create additional summary rows across separate calls if we are referencing the same summary row labels. If the summary row labels provided in <code>fns</code> were to be different across columns however, additional summary rows would be produced even if the types of data aggregations were to be functionally equivalent.</p>
<p>We can also store these argument values as local variables and pass them in both separate <code>fmt_*number*()</code> calls also to arguments within <code><a href="../reference/summary_rows.html">summary_rows()</a></code> calls. This is useful for standardizing formatting parameters across different table cell types. Here’s an example of that, which additional passes the <code>fr_BE</code> locale to all functions that take a <code>locale</code> value.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Provide common formatting parameters to a list</span>
<span class="co"># object named `formats`; the number of decimal</span>
<span class="co"># places will be `2` and the locale is "fr_BE"</span>
<span class="va">formats</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
    decimals <span class="op">=</span> <span class="fl">3</span>,
    locale <span class="op">=</span> <span class="st">"fr_BE"</span>,
    currency <span class="op">=</span> <span class="st">"EUR"</span>
  <span class="op">)</span>

<span class="co"># Format the `num` and `currency` columns</span>
<span class="co"># (using the values stored in `formats`);</span>
<span class="co"># when generating summary rows we can also</span>
<span class="co"># supply formatter options from this list</span>
<span class="va">exibble_f</span> <span class="op">&lt;-</span> 
  <span class="va">exibble_a</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/fmt_scientific.html">fmt_scientific</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    decimals <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">decimals</span>,
    locale <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">locale</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/fmt_currency.html">fmt_currency</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">currency</span><span class="op">)</span>,
    currency <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">currency</span>,
    locale <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">locale</span>
    <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/summary_rows.html">summary_rows</a></span><span class="op">(</span>
    groups <span class="op">=</span> <span class="cn">TRUE</span>,
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="va">fns_labels</span>,
    formatter <span class="op">=</span> <span class="va">fmt_scientific</span>,
    decimals <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">decimals</span>,
    locale <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">locale</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/summary_rows.html">summary_rows</a></span><span class="op">(</span>
    groups <span class="op">=</span> <span class="st">"grp_a"</span>,
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">currency</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
      <span class="va">fns_labels</span>,
      min <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">min</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>,
      max <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span>,
    formatter <span class="op">=</span> <span class="va">fmt_currency</span>,
    currency <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">currency</span>,
    locale <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">locale</span>
  <span class="op">)</span>

<span class="va">exibble_f</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#yeovoimqhp .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yeovoimqhp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yeovoimqhp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yeovoimqhp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yeovoimqhp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yeovoimqhp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yeovoimqhp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yeovoimqhp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yeovoimqhp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yeovoimqhp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yeovoimqhp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yeovoimqhp .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#yeovoimqhp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yeovoimqhp .gt_from_md > :first-child {
  margin-top: 0;
}

#yeovoimqhp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yeovoimqhp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yeovoimqhp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#yeovoimqhp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yeovoimqhp .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#yeovoimqhp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yeovoimqhp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yeovoimqhp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yeovoimqhp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yeovoimqhp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yeovoimqhp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#yeovoimqhp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yeovoimqhp .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#yeovoimqhp .gt_left {
  text-align: left;
}

#yeovoimqhp .gt_center {
  text-align: center;
}

#yeovoimqhp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yeovoimqhp .gt_font_normal {
  font-weight: normal;
}

#yeovoimqhp .gt_font_bold {
  font-weight: bold;
}

#yeovoimqhp .gt_font_italic {
  font-style: italic;
}

#yeovoimqhp .gt_super {
  font-size: 65%;
}

#yeovoimqhp .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="yeovoimqhp" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1,111 × 10<sup class="gt_super">−1</sup>
</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">€49,95</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2,222</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">€17,95</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3,333 × 10<sup class="gt_super">1</sup>
</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">€1,39</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4,444 × 10<sup class="gt_super">2</sup>
</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">€65 100,00</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">1,200 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">€16 292,32</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">4,801 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€65 169,29</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">2,168 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€32 538,46</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">min</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€1,39</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">max</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€65 100,00</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5,550 × 10<sup class="gt_super">3</sup>
</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">€1 325,81</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">€13,26</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7,770 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8,880 × 10<sup class="gt_super">6</sup>
</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">€0,44</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">3,221 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">9,663 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">4,916 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
</tbody>
</table></div>
<p>Passing in parameters like this is useful, especially if there are larger numbers of columns. When we store formatting parameters outside of the <code><a href="../reference/gt.html">gt()</a></code> pipeline, we separate our concerns between data structuring and data formatting. Putting styles and options into objects becomes more important if we intend to centralize formatting options for reuse.</p>
</div>
<div id="creating-a-grand-summary" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-a-grand-summary" class="anchor"></a>Creating a Grand Summary</h3>
<p>A grand summary aggregates column data regardless of the groups within the data. Grand summaries can also be created for <strong>gt</strong> tables that don’t have row groups, or, don’t have a stub. Finally, we can create a table that has both groupwise summaries and a grand summary.</p>
<p>Let’s keep it simple and create group summary rows on a table without a stub. We’ll use <code>exibble</code> dataset for this once more. A few <code>exibble</code> columns are <code>select()</code>ed, passed to <code><a href="../reference/gt.html">gt()</a></code>, and then <code><a href="../reference/summary_rows.html">summary_rows()</a></code>. Notice that, in the resulting table, a stub is created just for the summary row labels (they have to go somewhere).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a simple grand summary on a gt</span>
<span class="co"># table that contains no stub</span>
<span class="va">exibble_g</span> <span class="op">&lt;-</span>
  <span class="va">exibble</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">num</span>, <span class="va">char</span>, <span class="va">currency</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/grand_summary_rows.html">grand_summary_rows</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span>, <span class="va">currency</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="va">fns_labels</span>
  <span class="op">)</span>

<span class="va">exibble_g</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#qlvaleszch .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qlvaleszch .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qlvaleszch .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qlvaleszch .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qlvaleszch .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qlvaleszch .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qlvaleszch .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qlvaleszch .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qlvaleszch .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qlvaleszch .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qlvaleszch .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qlvaleszch .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#qlvaleszch .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qlvaleszch .gt_from_md > :first-child {
  margin-top: 0;
}

#qlvaleszch .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qlvaleszch .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qlvaleszch .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#qlvaleszch .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qlvaleszch .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#qlvaleszch .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qlvaleszch .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qlvaleszch .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qlvaleszch .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qlvaleszch .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qlvaleszch .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#qlvaleszch .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qlvaleszch .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#qlvaleszch .gt_left {
  text-align: left;
}

#qlvaleszch .gt_center {
  text-align: center;
}

#qlvaleszch .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qlvaleszch .gt_font_normal {
  font-weight: normal;
}

#qlvaleszch .gt_font_bold {
  font-weight: bold;
}

#qlvaleszch .gt_font_italic {
  font-style: italic;
}

#qlvaleszch .gt_super {
  font-size: 65%;
}

#qlvaleszch .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="qlvaleszch" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left gt_stub"></td>
<td class="gt_row gt_right">1.111e-01</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">49.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub"></td>
<td class="gt_row gt_right">2.222e+00</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">17.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub"></td>
<td class="gt_row gt_right">3.333e+01</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">1.390</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub"></td>
<td class="gt_row gt_right">4.444e+02</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">65100.000</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub"></td>
<td class="gt_row gt_right">5.550e+03</td>
<td class="gt_row gt_left">NA</td>
<td class="gt_row gt_right">1325.810</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub"></td>
<td class="gt_row gt_right">NA</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">13.255</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub"></td>
<td class="gt_row gt_right">7.770e+05</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">NA</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub"></td>
<td class="gt_row gt_right">8.880e+06</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">0.440</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row gt_first_grand_summary_row">avg</td>
      <td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row">1,380,432.87</td>
      <td class="gt_row gt_left gt_grand_summary_row gt_first_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row">9,501.26</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row">total</td>
      <td class="gt_row gt_right gt_grand_summary_row">9,663,030.06</td>
      <td class="gt_row gt_left gt_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row">66,508.79</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_grand_summary_row">3,319,613.32</td>
      <td class="gt_row gt_left gt_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row">24,521.60</td>
    </tr>
</tbody>
</table></div>
<p>By default, <code>groups</code> in the <code><a href="../reference/summary_rows.html">summary_rows()</a></code> function is set to <code>NULL</code> and will produce a grand summary.</p>
<p>A grand summary can be used in conjunction with groupwise summaries. Here’s an mashup where both types are present:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Using the table in `exibble_f`, create</span>
<span class="co"># additional grand summary rows (using two</span>
<span class="co"># separate calls of `grand_summary_rows()`</span>
<span class="co"># since the formatting</span>
<span class="co"># will be different)</span>
<span class="va">exibble_h</span> <span class="op">&lt;-</span> 
  <span class="va">exibble_f</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/grand_summary_rows.html">grand_summary_rows</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="va">fns_labels</span>,
    formatter <span class="op">=</span> <span class="va">fmt_number</span>,
    suffixing <span class="op">=</span> <span class="cn">TRUE</span>,
    locale <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">locale</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/grand_summary_rows.html">grand_summary_rows</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">currency</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="va">fns_labels</span>,
    formatter <span class="op">=</span> <span class="va">fmt_currency</span>,
    suffixing <span class="op">=</span> <span class="cn">TRUE</span>,
    locale <span class="op">=</span> <span class="va">formats</span><span class="op">$</span><span class="va">locale</span>
  <span class="op">)</span>

<span class="va">exibble_h</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#fchsyfutti .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fchsyfutti .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fchsyfutti .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fchsyfutti .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fchsyfutti .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fchsyfutti .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fchsyfutti .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fchsyfutti .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fchsyfutti .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fchsyfutti .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fchsyfutti .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fchsyfutti .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#fchsyfutti .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fchsyfutti .gt_from_md > :first-child {
  margin-top: 0;
}

#fchsyfutti .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fchsyfutti .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fchsyfutti .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#fchsyfutti .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fchsyfutti .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#fchsyfutti .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fchsyfutti .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fchsyfutti .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fchsyfutti .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fchsyfutti .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fchsyfutti .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#fchsyfutti .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fchsyfutti .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#fchsyfutti .gt_left {
  text-align: left;
}

#fchsyfutti .gt_center {
  text-align: center;
}

#fchsyfutti .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fchsyfutti .gt_font_normal {
  font-weight: normal;
}

#fchsyfutti .gt_font_bold {
  font-weight: bold;
}

#fchsyfutti .gt_font_italic {
  font-style: italic;
}

#fchsyfutti .gt_super {
  font-size: 65%;
}

#fchsyfutti .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="fchsyfutti" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1,111 × 10<sup class="gt_super">−1</sup>
</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">€49,95</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2,222</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">€17,95</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3,333 × 10<sup class="gt_super">1</sup>
</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">€1,39</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4,444 × 10<sup class="gt_super">2</sup>
</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">€65 100,00</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">1,200 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">€16 292,32</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">4,801 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€65 169,29</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">2,168 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€32 538,46</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">min</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€1,39</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">max</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€65 100,00</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5,550 × 10<sup class="gt_super">3</sup>
</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">€1 325,81</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">€13,26</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7,770 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8,880 × 10<sup class="gt_super">6</sup>
</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">€0,44</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">3,221 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">9,663 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">4,916 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row gt_first_grand_summary_row">avg</td>
      <td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row">1,38M</td>
      <td class="gt_row gt_left gt_grand_summary_row gt_first_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row">$9,50K</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row">total</td>
      <td class="gt_row gt_right gt_grand_summary_row">9,66M</td>
      <td class="gt_row gt_left gt_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row">$66,51K</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_grand_summary_row">3,32M</td>
      <td class="gt_row gt_left gt_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row">$24,52K</td>
    </tr>
</tbody>
</table></div>
<p>Note that the grand summary has a double line separating it from groupwise summary that’s part of <code>grp_b</code>. If this default styling appears to be too subtle, we can elect to add further styling to both groupwise summaries and the grand summary by using <code><a href="../reference/tab_options.html">tab_options()</a></code>.</p>
</div>
<div id="adding-some-style-to-the-summary-cells" class="section level3">
<h3 class="hasAnchor">
<a href="#adding-some-style-to-the-summary-cells" class="anchor"></a>Adding Some Style to the Summary Cells</h3>
<p>While the summary cells (both groupwise and grand) have a distinct appearance that sets them apart from the data cells, there’s always the option to modify their appearance. We can use the <code><a href="../reference/tab_options.html">tab_options()</a></code> function to perform these customizations. Here are the options specific to the summary cells (for groupwise summaries) and the grand summary cells:</p>
<ul>
<li>
<code>summary_row.background.color</code> &amp; <code>grand_summary_row.background.color</code>
</li>
<li>
<code>summary_row.padding</code> &amp; <code>grand_summary_row.padding</code>
</li>
<li>
<code>summary_row.text_transform</code> &amp; <code>grand_summary_row.text_transform</code>
</li>
</ul>
<p>We can also target the summary cells and grand summary cells with the location helper functions <code><a href="../reference/cells_summary.html">cells_summary()</a></code> and <code><a href="../reference/cells_grand_summary.html">cells_grand_summary()</a></code>. This is important for adding footnotes with <code><a href="../reference/tab_footnote.html">tab_footnote()</a></code> and for setting styles with <code><a href="../reference/tab_style.html">tab_style()</a></code> (both have the <code>locations</code> argument).</p>
<p>Here is an example that uses multiple calls of <code><a href="../reference/tab_options.html">tab_options()</a></code> and <code><a href="../reference/tab_footnote.html">tab_footnote()</a></code>. The cell background color for both types of summary cells is modified and two footnotes are added.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Using the gt table of `exibble_h` as a</span>
<span class="co"># starting point, style summary cells with</span>
<span class="co"># `tab_options()` and add two footnotes</span>
<span class="va">exibble_i</span> <span class="op">&lt;-</span> 
  <span class="va">exibble_h</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/tab_options.html">tab_options</a></span><span class="op">(</span>
    summary_row.background.color <span class="op">=</span> <span class="st">"lightblue"</span>,
    grand_summary_row.background.color <span class="op">=</span> <span class="st">"lightgreen"</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/tab_footnote.html">tab_footnote</a></span><span class="op">(</span>
    footnote <span class="op">=</span> <span class="fu"><a href="../reference/md.html">md</a></span><span class="op">(</span><span class="st">"Mean of all *num* values."</span><span class="op">)</span>,
    locations <span class="op">=</span> <span class="fu"><a href="../reference/cells_grand_summary.html">cells_grand_summary</a></span><span class="op">(</span>
      columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>, rows <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">avg</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/tab_footnote.html">tab_footnote</a></span><span class="op">(</span>
    footnote <span class="op">=</span> <span class="fu"><a href="../reference/md.html">md</a></span><span class="op">(</span><span class="st">"Highest `currency` value in **grp_a**"</span><span class="op">)</span>,
    locations <span class="op">=</span> <span class="fu"><a href="../reference/cells_summary.html">cells_summary</a></span><span class="op">(</span>
      groups <span class="op">=</span> <span class="st">"grp_a"</span>,
      columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">currency</span><span class="op">)</span>,
      rows <span class="op">=</span> <span class="st">"max"</span>
    <span class="op">)</span>
  <span class="op">)</span>

<span class="va">exibble_i</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#yslbsvuowy .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yslbsvuowy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yslbsvuowy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yslbsvuowy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yslbsvuowy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yslbsvuowy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yslbsvuowy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yslbsvuowy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yslbsvuowy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yslbsvuowy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yslbsvuowy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yslbsvuowy .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#yslbsvuowy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yslbsvuowy .gt_from_md > :first-child {
  margin-top: 0;
}

#yslbsvuowy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yslbsvuowy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yslbsvuowy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#yslbsvuowy .gt_summary_row {
  color: #333333;
  background-color: lightblue;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yslbsvuowy .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#yslbsvuowy .gt_grand_summary_row {
  color: #333333;
  background-color: lightgreen;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yslbsvuowy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yslbsvuowy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yslbsvuowy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yslbsvuowy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yslbsvuowy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#yslbsvuowy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yslbsvuowy .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#yslbsvuowy .gt_left {
  text-align: left;
}

#yslbsvuowy .gt_center {
  text-align: center;
}

#yslbsvuowy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yslbsvuowy .gt_font_normal {
  font-weight: normal;
}

#yslbsvuowy .gt_font_bold {
  font-weight: bold;
}

#yslbsvuowy .gt_font_italic {
  font-style: italic;
}

#yslbsvuowy .gt_super {
  font-size: 65%;
}

#yslbsvuowy .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="yslbsvuowy" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1,111 × 10<sup class="gt_super">−1</sup>
</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">€49,95</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2,222</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">€17,95</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3,333 × 10<sup class="gt_super">1</sup>
</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">€1,39</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4,444 × 10<sup class="gt_super">2</sup>
</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">€65 100,00</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">1,200 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">€16 292,32</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">4,801 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€65 169,29</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">2,168 × 10<sup class="gt_super">2</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€32 538,46</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">min</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€1,39</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">max</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">€65 100,00<sup class="gt_footnote_marks">1</sup>
</td>
    </tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5,550 × 10<sup class="gt_super">3</sup>
</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">€1 325,81</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">€13,26</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7,770 × 10<sup class="gt_super">5</sup>
</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8,880 × 10<sup class="gt_super">6</sup>
</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">€0,44</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row gt_first_summary_row">avg</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">3,221 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row gt_first_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row gt_first_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">total</td>
      <td class="gt_row gt_right gt_summary_row">9,663 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_summary_row">4,916 × 10<sup class="gt_super">6</sup>
</td>
      <td class="gt_row gt_left gt_summary_row">—</td>
      <td class="gt_row gt_right gt_summary_row">—</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row gt_first_grand_summary_row">avg</td>
      <td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row">1,38M<sup class="gt_footnote_marks">2</sup>
</td>
      <td class="gt_row gt_left gt_grand_summary_row gt_first_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row">$9,50K</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row">total</td>
      <td class="gt_row gt_right gt_grand_summary_row">9,66M</td>
      <td class="gt_row gt_left gt_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row">$66,51K</td>
    </tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row">s.d.</td>
      <td class="gt_row gt_right gt_grand_summary_row">3,32M</td>
      <td class="gt_row gt_left gt_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row">$24,52K</td>
    </tr>
</tbody>
<tfoot><tr class="gt_footnotes">
<td colspan="4">
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>1</em>
          </sup>
           
          Highest <code>currency</code> value in <strong>grp_a</strong>
          <br></p>
        <p class="gt_footnote">
          <sup class="gt_footnote_marks"><em>2</em>
          </sup>
           
          Mean of all <em>num</em> values.
          <br></p>
      </td>
    </tr></tfoot>
</table></div>
</div>
<div id="extracting-the-summary-data-from-the-gt-table-object" class="section level3">
<h3 class="hasAnchor">
<a href="#extracting-the-summary-data-from-the-gt-table-object" class="anchor"></a>Extracting the Summary Data from the <strong>gt</strong> Table Object</h3>
<p>For a reproducible workflow, we do not want to have situations where any data created or modified cannot be accessed. While having summarized values be created in a <strong>gt</strong> pipeline presents advantages to readability and intent of analysis, it is recognized that the output table itself is essentially ‘read only’, as the input data undergoes processing and movement to an entirely different format.</p>
<p>However, the object created still contains data and we can obtain the summary data from a <strong>gt</strong> table object using the <code><a href="../reference/extract_summary.html">extract_summary()</a></code> function. Taking the <code>gt_summary</code> object, we get a list of tibbles containing the summary data while preserving the correct data types:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Extract the summary data from `exibble_d`</span>
<span class="co"># to a list  object</span>
<span class="va">summary_list</span> <span class="op">&lt;-</span> <span class="va">exibble_d</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/extract_summary.html">extract_summary</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Print out the summary for the `grp_a` group</span>
<span class="va">summary_list</span> <span class="op">%&gt;%</span> <span class="va">.</span><span class="op">$</span><span class="va">summary_df_data_list</span> <span class="op">%&gt;%</span> <span class="va">.</span><span class="op">$</span><span class="va">grp_a</span>
<span class="co">#&gt; # A tibble: 3 x 7</span>
<span class="co">#&gt;   groupname rowname   num  char currency   row group</span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 grp_a     avg      120.    NA       NA    NA    NA</span>
<span class="co">#&gt; 2 grp_a     total    480.    NA       NA    NA    NA</span>
<span class="co">#&gt; 3 grp_a     s.d.     217.    NA       NA    NA    NA</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Print out the summary for the `grp_b` group</span>
<span class="va">summary_list</span> <span class="op">%&gt;%</span> <span class="va">.</span><span class="op">$</span><span class="va">summary_df_data_list</span> <span class="op">%&gt;%</span> <span class="va">.</span><span class="op">$</span><span class="va">grp_b</span>
<span class="co">#&gt; # A tibble: 3 x 7</span>
<span class="co">#&gt;   groupname rowname      num  char currency   row group</span>
<span class="co">#&gt;   &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 grp_b     avg     3220850     NA       NA    NA    NA</span>
<span class="co">#&gt; 2 grp_b     total   9662550     NA       NA    NA    NA</span>
<span class="co">#&gt; 3 grp_b     s.d.    4916123.    NA       NA    NA    NA</span></code></pre></div>
<p>The output tibbles within the list always contain the <code>groupname</code> and <code>rowname</code> columns. The <code>groupname</code> column is filled with the name of the row group that was given to <code><a href="../reference/summary_rows.html">summary_rows()</a></code>. The <code>rowname</code> column contains the descriptive stub labels for the summary rows (recall that values are either supplied explicitly in <code><a href="../reference/summary_rows.html">summary_rows()</a></code>, or, are generated from the function names). The remaining columns are those from the original dataset.</p>
<p>The output data from <code><a href="../reference/extract_summary.html">extract_summary()</a></code> can be reintroduced to a reproducible workflow and serve as downstream inputs or undergo validation. Perhaps interestingly, the output tibbles are structured in a way that facilitates direct input back to <code><a href="../reference/gt.html">gt()</a></code> (i.e., it has the magic <code>groupname</code> and <code>rowname</code> columns). This can produce a new, standalone summary table where the summary rows are now data rows:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Take `exibble_d`, which internally has a list</span>
<span class="co"># of summary data frames, extract the summaries,</span>
<span class="co"># and then combine them; input that into `gt()`,</span>
<span class="co"># and format the `num` column with `fmt_number()`</span>
<span class="va">exibble_d</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/extract_summary.html">extract_summary</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span>recursive <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html">bind_rows</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/gt.html">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/fmt_number.html">fmt_number</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span><span class="op">)</span>,
    decimals <span class="op">=</span> <span class="fl">1</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/fmt_missing.html">fmt_missing</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">char</span>, <span class="va">currency</span>, <span class="va">row</span>, <span class="va">group</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#csnmcszjjd .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#csnmcszjjd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#csnmcszjjd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#csnmcszjjd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#csnmcszjjd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#csnmcszjjd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#csnmcszjjd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#csnmcszjjd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#csnmcszjjd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#csnmcszjjd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#csnmcszjjd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#csnmcszjjd .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#csnmcszjjd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#csnmcszjjd .gt_from_md > :first-child {
  margin-top: 0;
}

#csnmcszjjd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#csnmcszjjd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#csnmcszjjd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#csnmcszjjd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#csnmcszjjd .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#csnmcszjjd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#csnmcszjjd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#csnmcszjjd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#csnmcszjjd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#csnmcszjjd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#csnmcszjjd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#csnmcszjjd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#csnmcszjjd .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#csnmcszjjd .gt_left {
  text-align: left;
}

#csnmcszjjd .gt_center {
  text-align: center;
}

#csnmcszjjd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#csnmcszjjd .gt_font_normal {
  font-weight: normal;
}

#csnmcszjjd .gt_font_bold {
  font-weight: bold;
}

#csnmcszjjd .gt_font_italic {
  font-style: italic;
}

#csnmcszjjd .gt_super {
  font-size: 65%;
}

#csnmcszjjd .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="csnmcszjjd" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">groupname</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">row</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">group</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td class="gt_row gt_left gt_stub">avg</td>
<td class="gt_row gt_left">grp_a</td>
<td class="gt_row gt_right">120.0</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">total</td>
<td class="gt_row gt_left">grp_a</td>
<td class="gt_row gt_right">480.1</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">s.d.</td>
<td class="gt_row gt_left">grp_a</td>
<td class="gt_row gt_right">216.8</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">avg</td>
<td class="gt_row gt_left">grp_b</td>
<td class="gt_row gt_right">3,220,850.0</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">total</td>
<td class="gt_row gt_left">grp_b</td>
<td class="gt_row gt_right">9,662,550.0</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">s.d.</td>
<td class="gt_row gt_left">grp_b</td>
<td class="gt_row gt_right">4,916,123.3</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_right">—</td>
</tr>
</tbody>
</table></div>
</div>
<div id="providing-our-own-aggregation-functions-to-generate-summary-rows" class="section level3">
<h3 class="hasAnchor">
<a href="#providing-our-own-aggregation-functions-to-generate-summary-rows" class="anchor"></a>Providing Our Own Aggregation Functions to Generate Summary Rows</h3>
<p>While many of the functions available in base R and within packages are useful as aggregate functions, we may occasionally have the need to create our own custom functions. When taking this approach the main things to keep in mind are that a vector of values is the main input, and, a single value should be returned. The return value can be pretty much any class (e.g., <code>numeric</code>, <code>character</code>, <code>logical</code>) and it’s the <code>formatter</code> function that will handle any custom formatting while also converting to <code>character</code>.</p>
<p>Here, we’ll define a function that takes a vector of numeric values and outputs the two highest values (sorted low to high) above a <code>threshold</code> value. The output from this function is always a formatted <code>character</code> string.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Define a function that gives the</span>
<span class="co"># highest two values above a threshold</span>
<span class="va">agg_highest_two_above_value</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">threshold</span><span class="op">)</span> <span class="op">{</span>
  
  <span class="co"># Get sorted values above threshold value</span>
  <span class="va">values</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;=</span> <span class="va">threshold</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
  
  <span class="co"># Return character string with 2 highest values above threshold</span>
  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">values</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"No values above "</span>, <span class="va">threshold</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
    <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span>
      <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span>
        <span class="fu"><a href="https://rdrr.io/r/base/formatc.html">formatC</a></span><span class="op">(</span>
          <span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span>
            <span class="fu"><a href="https://rdrr.io/r/base/sort.html">sort</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="va">x</span> <span class="op">&gt;</span> <span class="va">threshold</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span>,
          format <span class="op">=</span> <span class="st">"f"</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>, collapse <span class="op">=</span> <span class="st">", "</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span>
<span class="op">}</span>

<span class="co"># Let's test this function with some values</span>
<span class="fu">agg_highest_two_above_value</span><span class="op">(</span>
  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.73</span>, <span class="fl">0.93</span>, <span class="fl">0.75</span>, <span class="fl">0.86</span>, <span class="fl">0.23</span>, <span class="fl">0.81</span><span class="op">)</span>,
  threshold <span class="op">=</span> <span class="fl">0.8</span>
<span class="op">)</span>
<span class="co">#&gt; [1] "0.86, 0.93"</span></code></pre></div>
<p>Because this is character value that’s returned, we don’t need formatting functions like <code><a href="../reference/fmt_number.html">fmt_number()</a></code>, <code><a href="../reference/fmt_percent.html">fmt_percent()</a></code>, etc. However, a useful formatter (and we do need <em>some</em> formatter) is the <code><a href="../reference/fmt_passthrough.html">fmt_passthrough()</a></code> function. Like the name suggests, it to great extent passes values through but formats as <code>character</code> (like all the <code>fmt_*()</code> function do) and it provides the option to decorate the output with a <code>pattern</code>. Let’s have a look at how the <code>agg_highest_two_above_value()</code> function can be used with the <code><a href="../reference/fmt_passthrough.html">fmt_passthrough()</a></code> formatter function.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Create a gt table with `exibble_a` and use</span>
<span class="co"># the custom function with a threshold of `20`;</span>
<span class="co"># the `fmt_passthrough` funtion allows for</span>
<span class="co"># minimal formatting of the aggregate values</span>
<span class="va">exibble_j</span> <span class="op">&lt;-</span> 
  <span class="va">exibble_a</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/grand_summary_rows.html">grand_summary_rows</a></span><span class="op">(</span>
    columns <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">num</span>, <span class="va">currency</span><span class="op">)</span>,
    fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
      high <span class="op">=</span> <span class="op">~</span><span class="fu">agg_highest_two_above_value</span><span class="op">(</span><span class="va">.</span>, <span class="fl">20</span><span class="op">)</span><span class="op">)</span>,
    formatter <span class="op">=</span> <span class="va">fmt_passthrough</span>,
    pattern <span class="op">=</span> <span class="st">"({x})"</span>
  <span class="op">)</span>

<span class="va">exibble_j</span></code></pre></div>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#skjxgtipxf .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#skjxgtipxf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#skjxgtipxf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#skjxgtipxf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#skjxgtipxf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#skjxgtipxf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#skjxgtipxf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#skjxgtipxf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#skjxgtipxf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#skjxgtipxf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#skjxgtipxf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#skjxgtipxf .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#skjxgtipxf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#skjxgtipxf .gt_from_md > :first-child {
  margin-top: 0;
}

#skjxgtipxf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#skjxgtipxf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#skjxgtipxf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#skjxgtipxf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#skjxgtipxf .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#skjxgtipxf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#skjxgtipxf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#skjxgtipxf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#skjxgtipxf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#skjxgtipxf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#skjxgtipxf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#skjxgtipxf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#skjxgtipxf .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#skjxgtipxf .gt_left {
  text-align: left;
}

#skjxgtipxf .gt_center {
  text-align: center;
}

#skjxgtipxf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#skjxgtipxf .gt_font_normal {
  font-weight: normal;
}

#skjxgtipxf .gt_font_bold {
  font-weight: bold;
}

#skjxgtipxf .gt_font_italic {
  font-style: italic;
}

#skjxgtipxf .gt_super {
  font-size: 65%;
}

#skjxgtipxf .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="skjxgtipxf" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="table gt_table">
<thead class="gt_col_headings"><tr>
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">num</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">char</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">currency</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_a</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_1</td>
<td class="gt_row gt_right">1.111e-01</td>
<td class="gt_row gt_left">apricot</td>
<td class="gt_row gt_right">49.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_2</td>
<td class="gt_row gt_right">2.222e+00</td>
<td class="gt_row gt_left">banana</td>
<td class="gt_row gt_right">17.950</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_3</td>
<td class="gt_row gt_right">3.333e+01</td>
<td class="gt_row gt_left">coconut</td>
<td class="gt_row gt_right">1.390</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_4</td>
<td class="gt_row gt_right">4.444e+02</td>
<td class="gt_row gt_left">durian</td>
<td class="gt_row gt_right">65100.000</td>
</tr>
<tr class="gt_group_heading_row">
<td colspan="4" class="gt_group_heading">grp_b</td>
    </tr>
<tr>
<td class="gt_row gt_left gt_stub">row_5</td>
<td class="gt_row gt_right">5.550e+03</td>
<td class="gt_row gt_left">—</td>
<td class="gt_row gt_right">1325.810</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_6</td>
<td class="gt_row gt_right">—</td>
<td class="gt_row gt_left">fig</td>
<td class="gt_row gt_right">13.255</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_7</td>
<td class="gt_row gt_right">7.770e+05</td>
<td class="gt_row gt_left">grapefruit</td>
<td class="gt_row gt_right">—</td>
</tr>
<tr>
<td class="gt_row gt_left gt_stub">row_8</td>
<td class="gt_row gt_right">8.880e+06</td>
<td class="gt_row gt_left">honeydew</td>
<td class="gt_row gt_right">0.440</td>
</tr>
<tr>
<td class="gt_row gt_stub gt_right gt_grand_summary_row gt_first_grand_summary_row">high</td>
      <td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row">(777000.00, 8880000.00)</td>
      <td class="gt_row gt_left gt_grand_summary_row gt_first_grand_summary_row">—</td>
      <td class="gt_row gt_right gt_grand_summary_row gt_first_grand_summary_row">(1325.81, 65100.00)</td>
    </tr>
</tbody>
</table></div>
<p>We can extract the grand summary data from the <code>exibble_j</code> object. Note that columns <code>num</code> and <code>currency</code> are classed as character since it was character outputs that were generated by the <code>agg_highest_two_above_value()</code> function.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Extract the summary list from `exibble_j`</span>
<span class="co"># and inspect using `str()`</span>
<span class="va">exibble_j</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/extract_summary.html">extract_summary</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; List of 1</span>
<span class="co">#&gt;  $ summary_df_data_list:List of 1</span>
<span class="co">#&gt;   ..$ ::GRAND_SUMMARY: tibble [1 × 7] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;   .. ..$ groupname: chr "::GRAND_SUMMARY"</span>
<span class="co">#&gt;   .. ..$ rowname  : chr "high"</span>
<span class="co">#&gt;   .. ..$ num      : chr "777000.00, 8880000.00"</span>
<span class="co">#&gt;   .. ..$ char     : num NA</span>
<span class="co">#&gt;   .. ..$ currency : chr "1325.81, 65100.00"</span>
<span class="co">#&gt;   .. ..$ row      : num NA</span>
<span class="co">#&gt;   .. ..$ group    : num NA</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Richard Iannone, Joe Cheng, Barret Schloerke, <a href="https://www.rstudio.com"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
