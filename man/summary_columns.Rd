% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summary_columns.R
\name{summary_columns}
\alias{summary_columns}
\title{Add summary columns using aggregation functions}
\usage{
summary_columns(
  data,
  columns = everything(),
  fns = NULL,
  new_col_name = NULL,
  new_col_names = NULL,
  new_col_label = NULL,
  new_col_labels = NULL,
  fmt = NULL,
  side = c("right", "left"),
  missing_text = "---"
)
}
\arguments{
\item{data}{\emph{The gt table data object}

\verb{obj:<gt_tbl>} // \strong{required}

This is the \strong{gt} table object that is commonly created through use of the
\code{\link[=gt]{gt()}} function.}

\item{columns}{\emph{Columns to aggregate}

\verb{<column-targeting expression>} // \emph{default:} \code{everything()}

The columns to aggregate across for each row. Can either be a series of
column names provided in \code{c()}, a vector of column indices, or a select
helper function (e.g. \code{\link[=starts_with]{starts_with()}}, \code{\link[=ends_with]{ends_with()}}, \code{\link[=contains]{contains()}},
\code{\link[=matches]{matches()}}, \code{\link[=num_range]{num_range()}}, and \code{\link[=everything]{everything()}}).}

\item{fns}{\emph{Aggregation Expression(s)}

\verb{<expression|list of expressions>}

One or more functions used for aggregation. For a single summary column,
provide a single function as a formula (e.g., \code{~ sum(.)}), character
string (e.g., \code{"sum"}), or bare function (e.g., \code{sum}). For multiple
summary columns, provide a list of formulas (e.g.,
\code{list(~ sum(.), ~ mean(.), ~ sd(.))}). Base functions like \code{mean}, \code{min},
\code{max}, \code{median}, \code{sd}, and \code{sum} are supported, along with any
user-defined aggregation functions.}

\item{new_col_name}{\emph{Name for the new summary column (single)}

\verb{scalar<character>} // \emph{default:} \code{NULL}

An optional name for the new summary column when adding a single column.
This name is used as the column identifier for targeting in other \strong{gt}
functions (e.g., \code{\link[=fmt_number]{fmt_number()}}, \code{\link[=tab_style]{tab_style()}}). If \code{NULL}, a default
name will be generated. For multiple columns, use \code{new_col_names} instead.}

\item{new_col_names}{\emph{Names for new summary columns (multiple)}

\verb{vector<character>} // \emph{default:} \code{NULL}

Optional names for the new summary columns when adding multiple columns.
Must be the same length as \code{fns} if provided. These names are used as
column identifiers for targeting. If \code{NULL}, names will be generated from
the function expressions. For a single column, use \code{new_col_name} instead.}

\item{new_col_label}{\emph{Label for the new summary column (single)}

\verb{scalar<character>} // \emph{default:} \code{NULL}

An optional label for the new summary column header when adding a single
column. This is what will be displayed in the rendered table. Can be plain
text or use helper functions like \code{\link[=md]{md()}} or \code{\link[=html]{html()}}. If \code{NULL} and
\code{new_col_name} is provided, the \code{new_col_name} will be used as the label.
For multiple columns, use \code{new_col_labels} instead.}

\item{new_col_labels}{\emph{Labels for new summary columns (multiple)}

\code{list} // \emph{default:} \code{NULL}

Optional labels for the new summary column headers when adding multiple
columns. Must be the same length as \code{fns} if provided. Can include plain
text or use \code{\link[=md]{md()}} or \code{\link[=html]{html()}} helpers. If \code{NULL}, will use
\code{new_col_names} as labels. \strong{Important}: Use \code{list()} instead of \code{c()}
when mixing plain text with \code{\link[=md]{md()}} or \code{\link[=html]{html()}} objects to preserve their
classes (e.g., \code{list("Total", md("**Average**"))}). For a single column,
use \code{new_col_label} instead.}

\item{fmt}{\emph{Formatting expression}

\verb{<expression>}

An optional formatting expression in formula form. The RHS of \code{~} should
contain a formatting call (e.g., \code{~ fmt_number(., decimals = 2)}).}

\item{side}{\emph{Side used for placement of summary column}

\verb{singl-kw:[right|left]} // \emph{default:} \code{"right"}

Should the summary column be placed on the \code{"right"} (the default) or the
\code{"left"} side of the table?}

\item{missing_text}{\emph{Replacement text for \code{NA} values}

\verb{scalar<character>} // \emph{default:} \code{"---"}

The text to be used in place of \code{NA} values in the summary column cells.}
}
\value{
An object of class \code{gt_tbl}.
}
\description{
The \code{summary_columns()} function adds one or more computed columns to a table
by aggregating values across selected columns within each row. This is the
horizontal counterpart to \code{\link[=summary_rows]{summary_rows()}}, which aggregates down columns to
create summary rows. Common use cases include calculating row totals, row
averages, or other row-wise statistics.

Summary columns are computed immediately when the function is called and are
added to the table's data as regular columns. This means they can be
referenced in subsequent \strong{gt} operations like \code{\link[=cols_move]{cols_move()}}, \code{\link[=fmt_number]{fmt_number()}},
\code{\link[=tab_style]{tab_style()}}, or even in other computed columns via \code{\link[=cols_add]{cols_add()}}.

You can create a single summary column or multiple columns at once by
providing a list of aggregation functions. The functions can be any R
expression that takes a vector of values and returns a single value (like
\code{sum()}, \code{mean()}, \code{max()}, \code{min()}, etc.). Column names and labels can be
auto-generated from function names or explicitly specified.
}
\section{Examples}{


Use a subset of the \code{\link{gtcars}} dataset to create a \strong{gt} table. Add a
summary column that computes row totals across numeric columns using
\code{summary_columns()}.

\if{html}{\out{<div class="sourceCode r">}}\preformatted{# Single summary column
gtcars |>
  dplyr::select(mfr, model, hp, trq, msrp) |>
  dplyr::slice_head(n = 10) |>
  gt(rowname_col = "model") |>
  summary_columns(
    columns = c(hp, trq, msrp),
    fns = ~ sum(.),
    new_col_name = "total",
    new_col_label = "Total",
    side = "right"
  ) |>
  fmt_number(columns = total, decimals = 0)

# Multiple summary columns at once
gtcars |>
  dplyr::select(mfr, model, hp, trq, msrp) |>
  dplyr::slice_head(n = 10) |>
  gt(rowname_col = "model") |>
  summary_columns(
    columns = c(hp, trq, msrp),
    fns = list(~ sum(.), ~ mean(.), ~ max(.)),
    new_col_names = c("total", "average", "maximum"),
    new_col_labels = list("Total", md("**Average**"), "Maximum"),
    side = "right"
  ) |>
  fmt_number(columns = c(total, average, maximum), decimals = 0)
}\if{html}{\out{</div>}}
}

\section{Function ID}{

6-3
}

\section{Function Introduced}{

\code{v0.12.0} (October 23, 2025)
}

\seealso{
Other row addition/modification functions: 
\code{\link{grand_summary_rows}()},
\code{\link{row_group_order}()},
\code{\link{rows_add}()},
\code{\link{summary_rows}()}
}
\concept{row addition/modification functions}
